(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){},132:function(e,t,n){e.exports=n(238)},152:function(e,t,n){},153:function(e,t,n){},218:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),s=n.n(c),o=n(2),i=n.n(o),l=n(6),u=n(7),p=n(8),d=n(5),m=n(9),h=n(10),f=n(242),v=n(241),b=n(244),g=n(13),y=n(3),w=n(4),E=n(29),O=n(120),j=n(121),k=n.n(j),N=function(e){return Object.keys(e).reduce(function(t,n){return e[n]?[].concat(Object(w.a)(t),[n]):t},[]).join(" ")},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[];return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var s=n.find(function(e){var t=e.args;return t.length===r.length&&t.every(function(e,t){return e===r[t]})});if(s)return s.results;var o=e.apply(void 0,r);return n=[{args:r,results:o}].concat(Object(w.a)(n.slice(0,t-1))),o}},x=function(e){return new Promise(function(t){return setTimeout(t,e)})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-Number.MAX_VALUE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function(n){return n<e?e:n>t?t:n}},S=(Function.prototype.call.bind(Array.prototype.slice),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=6e4*e.getTimezoneOffset(),n=e.getTime()-t;return Math.floor((n-144e5)/864e5)}),T=/[^\u0e01\u0e02\u0e03\u0e04\u0e05\u0e06\u0e07\u0e08\u0e09\u0e0a\u0e0b\u0e0c\u0e0d\u0e0e\u0e0f\u0e10\u0e11\u0e12\u0e13\u0e14\u0e15\u0e16\u0e17\u0e18\u0e19\u0e1a\u0e1b\u0e1c\u0e1d\u0e1e\u0e1f\u0e20\u0e21\u0e22\u0e23\u0e24\u0e25\u0e26\u0e27\u0e28\u0e29\u0e2a\u0e2b\u0e2c\u0e2d\u0e2e\u0e2f\u0e30\u0e32\u0e33\u0e40\u0e41\u0e42\u0e43\u0e44\u0e45\u0e46\u0e4f\u0e50\u0e51\u0e52\u0e53\u0e54\u0e55\u0e56\u0e57\u0e58\u0e59\u0e5a\u0e5ba-z ]/,V=function(e){return e.replace(T,"")},P=function(e,t,n){var a=V(e[t]);return n.filter(function(n){return n[t]!==e[t]}).map(function(e){return{word:e,similarity:k.a.get(a,V(e[t]))}}).sort(function(e,t){return e.similarity>t.similarity?1:-1}).map(function(e){return e.word}).filter(function(e,n,a){return a.findIndex(function(n){return e[t]===n[t]})===n})},L=function(e){for(var t,n,a=(e=e.slice()).length;a>0;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},I=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},M=function(e){return function(t){for(var n,a,r=[],c=t.length,s=0;s<e;s++){if(n=r.slice(-c),c<3)a=[].concat(t);else do{a=L(t)}while(a[0]===n[c-1]||s===e-1&&r[0]===a[c-1]||I(n,a));r=[].concat(r,a)}return r}};var W,D=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},R=function(e,t){var n=D(e);return function(e){var a=L(n.filter(function(t){return t!==e}));return a.splice(Math.floor(Math.random()*t),0,e),a.slice(0,t)}},q=n(22),K=n(33),F=n.n(K),z=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/allwords.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/vowels.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/consonants.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.getItem("progress");case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.setItem("progress",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.removeItem("progress");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,a,r,c,s,o,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.getItem("voiceSettings");case 2:return t=e.sent,a=(n=t||{}).englishVoiceName,r=void 0===a?null:a,c=n.thaiVoiceName,s=void 0===c?null:c,o=n.rate,l=void 0===o?1:o,e.abrupt("return",{englishVoiceName:r,thaiVoiceName:s,rate:l});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.setItem("voiceSettings",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,a,r,c,s,o,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.getItem("settings");case 2:return t=e.sent,a=(n=t||{}).pronunciationType,r=n.practiceWordLimit,c=n.testingWordLimit,s=n.practiceOrder,o=n.practiceAllAtOnce,l=n.showCharacterClasses,e.abrupt("return",{pronunciationType:a,practiceWordLimit:r,testingWordLimit:c,practiceOrder:s,practiceAllAtOnce:o,showCharacterClasses:l});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.getItem("settings");case 2:return n=e.sent,e.next=5,F.a.setItem("settings",Object(y.a)({},n,t));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/tones.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$="Paiboon",ee=function(e){var t=Object(q.a)(e,6),n=t[0],a=t[1],r=t[2],c=t[3],s=t[4],o=t[5];return{id:n,term:a,thai:r,ipa:c,paiboon:s,altThai:void 0===o?null:o}},te=function(){var e=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,e.abrupt("return",t.map(ee));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ne=[{sleep:0},{sleep:1},{sleep:3},{sleep:7},{sleep:13},{sleep:Number.MAX_SAFE_INTEGER}],ae=0,re=1,ce=2,se=3,oe=4,ie=A(0,5),le=function(e,t){var n=A(e,t);return function(e,t,a){if(t<e.length){var r=e[t];return r=n(r+a),[].concat(Object(w.a)(e.slice(0,t)),[r],Object(w.a)(e.slice(t+1)))}return e}}(0,5),ue=(W=ne,function(e,t){return e+W[ie(Math.min.apply(Math,Object(w.a)(t)))].sleep}),pe=function(e){var t=Object(q.a)(e,4);return{id:t[0],date:t[1],dueDate:t[2],aspectScores:t[3]}},de=function(e){var t=e.date,n=e.dueDate,a=e.aspectScores;return void 0!==t&&void 0!==n&&void 0!==a},me=function(e){return[e.id,e.date,e.dueDate,e.aspectScores]},he=function(e){return e.filter(de).map(me)};function fe(){return ve.apply(this,arguments)}function ve(){return(ve=Object(l.a)(i.a.mark(function e(){var t,n,a,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([_(),te()]);case 2:return t=e.sent,n=Object(q.a)(t,2),a=n[0],r=n[1],c=a.map(pe),e.abrupt("return",r.map(function(e){var t=c.find(function(t){return t.id===e.id});return t?Object(y.a)({},t,e):e}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function be(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=he(t),e.next=3,H(n);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e,t,n){return n=S(n||new Date),t.map(function(t){var a=t.id,r=t.aspectScores;e.filter(function(e){return e.id===a}).forEach(function(e){var t=e.aspect,n=e.score;return r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return le(e,t,n?1:-1)}(r,t,n>0)});var c=ue(n,r);return Object(y.a)({},t,{aspectScores:r,date:n,dueDate:c})})}function we(e,t){return e.filter(function(e){var n=e.dueDate,a=e.aspectScores;return n<=t&&Math.min.apply(Math,Object(w.a)(a))>0&&Math.min.apply(Math,Object(w.a)(a))<=4}).sort(function(e,t){if(e.dueDate!==t.dueDate)return e.dueDate>t.dueDate?1:-1;var n=Math.min.apply(Math,Object(w.a)(e.aspectScores)),a=Math.min.apply(Math,Object(w.a)(t.aspectScores));return n!==a?n<a?1:-1:e.date!==t.date?e.date>t.date?1:-1:e.id>t.id?1:-1})}function Ee(e){return e.filter(de).filter(function(e){var t=e.aspectScores;return 0===Math.min.apply(Math,Object(w.a)(t))})}function Oe(e,t){var n=e.dueDate,a=e.aspectScores;return a?0===Math.min.apply(Math,Object(w.a)(a))?re:Math.min.apply(Math,Object(w.a)(a))>=5?oe:n<=t?ce:se:ae}function je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map(function(e){return{word:e,status:Oe(e,t)}}).filter(function(e){var t=e.status;return n.includes(t)}).map(function(e){return e.word})}var ke,Ne,Ce={pronunciationType:"IPA",practiceWordLimit:15,testingWordLimit:20,practiceOrder:["thai","pronunciation","term"],practiceAllAtOnce:!1,showCharacterClasses:!0,resetProgressVisible:!1},xe={changePracticeDisplayOrder:function(e){var t=e.practiceOrder,n=e.practiceAllAtOnce;return function(e){t?(e({type:"settings/setpracticedisplayorder",payload:{practiceOrder:t}}),Y({practiceOrder:t})):(e({type:"settings/toggleallatonce",payload:{practiceAllAtOnce:n}}),Y({practiceAllAtOnce:n}))}},changePronunciationType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:"settings/setpronunciationtype",payload:e}),Y({pronunciationType:e})}},changePracticeWordLimit:function(e){return function(t){t({type:"settings/setpracticelimit",payload:{practiceWordLimit:e}}),Y({practiceWordLimit:e})}},changeTestingWordLimit:function(e){return function(t){t({type:"settings/settestlimit",payload:{testingWordLimit:e}}),Y({testingWordLimit:e})}},initializeSettings:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,c,s,o,l,u,p,d,m,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,a=n.practiceWordLimit,r=void 0===a?Ce.practiceWordLimit:a,c=n.pronunciationType,s=void 0===c?Ce.pronunciationType:c,o=n.practiceAllAtOnce,l=void 0===o?Ce.practiceAllAtOnce:o,u=n.practiceOrder,p=void 0===u?Ce.practiceOrder:u,d=n.showCharacterClasses,m=void 0===d?Ce.showCharacterClasses:d,h=n.testingWordLimit,t({type:"settings/initialize",payload:{practiceWordLimit:r,practiceAllAtOnce:l,practiceOrder:p,pronunciationType:s,showCharacterClasses:m,testingWordLimit:void 0===h?Ce.testingWordLimit:h}});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},toggleCharacterClasses:function(){return function(e,t){var n=!1===t().settings.showCharacterClasses;e({type:"settings/togglecharacterclasses",payload:{showCharacterClasses:n}}),Y({showCharacterClasses:n})}},toggleResetProgress:function(){return function(e,t){e({type:"settings/toggleresetprogress",payload:{resetProgressVisible:!1===t().settings.resetProgressVisible}})}},resetProgress:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t({type:"settings/resetprogress",payload:{resetProgressVisible:!1}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Ae=(ke="id",function(e,t){return e.concat(t).reduce(function(e,t,n,a){var r=t[ke],c=a.findIndex(function(e){return e[ke]===r});return c!==n?[].concat(Object(w.a)(e.slice(0,c)),[t],Object(w.a)(e.slice(c+1))):[].concat(Object(w.a)(e),[t])},[])}),Se=M(2),Te={testWords:[],queue:[],scores:[],type:null,stage:null,isComplete:!1,isSaved:!1,index:null},Ve={clearTest:function(){return function(e){e({type:"test/clearall"})}},getCurrentWords:function(e){return function(t){var n=Ee(e);return t({type:"test/settesetwords",payload:{testWords:n,queue:Se(n)}}),n.length>0}},getOverdueWords:function(e){return function(t){var n=we(e,S(new Date));return t({type:"test/settesetwords",payload:{testWords:n,queue:Se(n)}}),n.length>0}},setTestType:function(e){return function(t,n){var a=n(),r=a.words.words,c=a.settings.testingWordLimit,s=(1===e?Ee(r):we(r,S())).slice(0,c),o=Se(s),i=new Array(o.length).fill(0);return t({type:"test/settesttype",payload:{type:e,testWords:s,queue:o,stage:0,index:0,scores:i}}),o.length>0}},startCustomTest:function(e){return function(t){var n=e.filter(function(e,t,n){return n.indexOf(e)===t}),a=Se(n);t({type:"test/settesttype",payload:{type:1,testWords:n,queue:a,stage:0,index:0,scores:new Array(a.length).fill(0)}})}},submitAnswer:function(e){return function(t,n){var a=n().test,r=a.index,c=a.queue,s=a.scores,o=a.stage,i=a.testWords,l=null===e?0:e?1:-1;s=[].concat(Object(w.a)(s.slice(0,r)),[{id:c[r].id,score:l,aspect:o}],Object(w.a)(s.slice(r+1))),r+=1,o=Math.floor(r/i.length),r<s.length?t({type:"test/acceptanswer",payload:{scores:s,index:r,stage:o}}):t({type:"test/completetest",payload:{scores:s}})}},saveTest:function(e){return function(){var t=Object(l.a)(i.a.mark(function t(n,a){var r,c,s,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(),c=r.words.words,s=r.test.testWords,o=ye(e,s),c=Ae(c,o),t.next=5,be(c);case 5:n({type:"test/saved",payload:c});case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}},Pe=M(5),Le={currentIndex:0,currentStage:0,queue:[],words:[]},Ie={initializeWordsManager:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:n=e.sent,t({type:"words/setwords",payload:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},seedPractice:function(e,t){return function(n){return n({type:"words/reseed",payload:{words:e,limit:t}})}},advancePractice:function(e){return function(t){return t({type:"words/advance",payload:e})}},nudgePractice:function(){return function(e,t){return e({type:t().settings.shouldJustAdvance?"words/advance":"words/nudge"})}},advanceSound:function(e){return function(t){return t({type:"words/advancesound",payload:e})}},nudgeSound:function(){return function(e){return e({type:"words/nudgesound"})}},closePractice:function(){return function(e){return e({type:"words/closepractice"})}},registerPracticeEnd:function(e,t){return function(n){return n({type:"words/registerpracticeend",payload:{type:e,count:t}})}}},Me={applicationReady:!1,currentView:null,hintVisible:!1,subview:null,previewFilter:[re,ce,se]},We={changeSubview:function(e){return function(t){return t({type:"view/changesubview",payload:e})}},setApplicationReady:function(){return function(e){return e({type:"view_applicationready"})}},toggleHint:function(){return function(e){return e({type:"view/togglehint"})}},togglePreviewFilterStatus:function(e){return function(t){return t({type:"view_changepreviewfilter",payload:e})}}},De=n(122),Re=n(1),qe=n.n(Re),Ke="voices/languagethai",Fe=[],ze=null,Ue=null,Be=[],_e=null,He=null,Ge=1,Je=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=_e?_e.name:null,n=ze?ze.name:null,e.next=4,Q({englishVoiceName:t,thaiVoiceName:n,rate:Ge});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Qe=function(e,t){return e.find(function(e){var n=e.name;return t===n})},Xe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(a){n&&speechSynthesis.cancel();var r="voices/languageenglish"===e?t.term:t.altThai||t.thai,c=new SpeechSynthesisUtterance(r);c.voice="voices/languageenglish"===e?_e:ze,c.rate="voices/languageenglish"===e?1:Ge,c.onend=a,speechSynthesis.speak(c)})},Ye=(qe.a.shape({lang:qe.a.string.isRequired,name:qe.a.string.isRequired}),function(e){return"ipa"===e||"paiboon"===e}),Ze=function(){return{thaiVoices:Fe,englishVoices:Be,thaiVoice:ze,englishVoice:_e,rate:Ge}},$e={thaiVoice:null,thaiVoices:[],englishVoice:null,englishVoices:[],rate:1},et={initializeVoiceManager:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,c,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:n=e.sent,r=(a=n||{}).englishVoiceName,He=void 0===r?null:r,c=a.thaiVoiceName,Ue=void 0===c?null:c,s=a.rate,Ge=void 0===s?Ge:s,o=function(){var e=/^en/i,n=/^th/i,a=speechSynthesis.getVoices();Fe=a.filter(function(e){var t=e.lang;return n.test(t)}),Be=a.filter(function(t){var n=t.lang;return e.test(n)}),_e=Be.find(function(e){return e.name===He})||Be[0],He=_e?_e.name:null,ze=Be.find(function(e){return e.name===Ue})||Fe[0],Ue=ze?ze.name:null,t()},speechSynthesis.getVoices().length?o():speechSynthesis.onvoiceschanged=o;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:t({type:"voice/setvoices",payload:Ze()});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},setEnglishVoice:function(e){return function(t){return t({type:"voice/setEnglishVoice",payload:e})}},setThaiVoice:function(e){return function(t){return t({type:"voice/setThaiVoice",payload:e})}},setRate:function(e){return function(t){return t({type:"voice/setRate",payload:e})}}},tt={vowelsLoaded:!1,visibleVowel:null,vowels:[],consonantsLoaded:!1,confusionLoaded:!1,consonants:{},confusions:[],consonantKeys:{},visibleConsonantKey:null,visibleConfusion:null},nt=function(e){return function(t){return function(n,a){var r=a().sounds.vowels,c=r.map(function(e){return e.vowel}).indexOf(t.vowel);n({type:"sounds_showvowel",payload:r[(c+r.length+e)%r.length]})}}},at=nt(1),rt=nt(-1),ct=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,a,r,c,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,n=t.confusions,a=t.consonants,r=t.keys,c=Object.keys(r),n=n.map(function(e){return e.split("")}),s=Object.keys(a).reduce(function(e,t){var n=Object(q.a)(a[t],2),s=n[0],o=n[1],i=c.find(function(e){var t=Object(q.a)(r[e],2),n=t[0],a=t[1];return(n===s||null===n)&&(a===o||null===a)})||"Other";return e[i]||(e[i]=[]),e[i].push(t),e},{}),e.abrupt("return",{confusions:n,consonants:a,consonantKeys:s});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),st={initializeVowels:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,t({type:"sounds/loadvowels",payload:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},clearSounds:function(){return function(e){e({type:"sounds/clearsounds"})}},showVowel:function(e){return function(t){return t({type:"sounds_showvowel",payload:e})}},showNextVowel:at,showPrevVowel:rt,initializeConsonants:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:n=e.sent,t({type:"sounds/loadconsonants",payload:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},showConsonantsByKey:function(e){return function(t){return t({type:"sounds/showconsonantsbykey",payload:e})}},showConfusionByIndex:function(e){return function(t){return t({type:"sounds/showconfusionbyindex",payload:e})}},initializeConfusion:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:n=e.sent,t({type:"sounds/loadconfusion",payload:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},ot=/[\u0E31\u0E34-\u0E3A\u0E47-\u0E4E]/,it=new RegExp("^([".concat("\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05","]?)([").concat("\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f","]?)([").concat("\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03","]?)"),"u"),lt=(new RegExp("[".concat("\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05","]"),"u"),new RegExp("[".concat("\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f","]"),"u")),ut=new RegExp("[".concat("\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03","]"),"u"),pt=function(e,t){if(ot.test(t)){var n=e.pop(),a=Object(q.a)(n,2),r=a[0],c=void 0===r?"":r,s=a[1];return[].concat(Object(w.a)(e),[[c+t,s]])}var o=it.exec(t),i=Object(q.a)(o,4),l=i[1],u=i[2],p=i[3],d=l?3:u?2:p?1:null;return[].concat(Object(w.a)(e),d?[[t,d]]:[[t]])},dt=C(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").reduce(pt,[])},100),mt=function(e){var t,n=e.character,a=e.cls,r=e.length,c=e.ending,s=e.marker;if(1===a||(t=n,ut.test(t))){if(13===s)return 4;if(14===s)return 8;if(10===c||null===c&&11===r)return 7;if(9===c||null===c&&12===r)return 4}else if(2===a||function(e){return lt.test(e)}(n)){if(13===s)return 4;if(14===s)return 8;if(15===s)return 6;if(16===s)return 7;if(9===c||null===c&&12===r)return 4}else{if(13===s)return 8;if(14===s)return 6;if(null===c&&12===r)return 6;if(9===c)return 12===r?6:8}return 5},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;return(e-=1)<=n++?{tones:t.filter(function(e){var t=e.length,n=e.ending;return!e.marker&&(10===n||11===t&&!n)}),label:"Stage ".concat(n,": Only live (no markers)"),className:"c-1"}:e===n++?{tones:t.filter(function(e){var t=e.length,n=e.ending;return!e.marker&&12===t&&10!==n}),label:"Stage ".concat(n,": Only dead & short (no markers)"),className:"c-2"}:e===n++?{tones:t.filter(function(e){var t=e.length,n=e.ending;return!e.marker&&(10===n||12===t)}),label:"Stage ".concat(n,": All live & all short (no markers)"),className:"c-3"}:e===n++?{tones:t.filter(function(e){return!e.marker}),label:"Stage ".concat(n,": All live & dead (no markers)"),className:"c-4"}:e===n++?{tones:t.filter(function(e){var t=e.marker;return 13===t||14===t}),label:"Stage ".concat(n,": Only mai ek & mai tho markers"),className:"c-5"}:e===n++?{tones:t.filter(function(e){return!!e.marker}),label:"Stage ".concat(n,": All markers only"),className:"c-6"}:e===n++?{tones:t.filter(function(e){return 3===e.cls}),label:"Stage ".concat(n,": Only low-class"),className:"c-7"}:e===n++?{tones:t.filter(function(e){return 2===e.cls}),label:"Stage ".concat(n,": Only mid-class"),className:"c-8"}:e===n++?{tones:t.filter(function(e){return 1===e.cls}),label:"Stage ".concat(n,": Only high-class"),className:"c-9"}:{tones:Object(w.a)(t),label:"Everything",last:!0}},ft={tonesmap:[]},vt={low:3,mid:2,high:1},bt={long:11,short:12},gt={stop:9,sonorant:10},yt={ek:13,tho:14,tri:15,chattawa:16},wt={initializeTones:function(){return function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:n=(n=e.sent).map(function(e){var t=e.cls,n=e.length,a=e.ending,r=e.marker,c=e.examples;return{cls:t=vt[t]||null,length:n=bt[n]||null,ending:a=gt[a]||null,marker:r=yt[r]||null,examples:c}}),t({type:"tones/initialize",payload:{tonesmap:n}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Et=n(16),Ot=n(123),jt=n(25),kt=n.n(jt),Nt=n(67),Ct=n.n(Nt),xt=function(e){var t=e.scores,n=t.reduce(function(e,t){var n=t.score;return e[3*t.aspect+n+1]+=1,e},[0,0,0,0,0,0,0,0,0]);return"Test complete totals: ".concat(t.length,", a: ").concat(n.slice(0,3).join(","),", b: ").concat(n.slice(3,6).join(","),", c: ").concat(n.slice(6,9).join(","))},At=function(e){var t=e.type,n=e.testWords;return"Start test type: ".concat(t,", words ").concat(n.length)},St=(Ne={},Object(Et.a)(Ne,"tracking/trackroutechange",Object(jt.trackPageView)(function(e){return{location:e.payload}})),Object(Et.a)(Ne,"tracking/startprocess",Object(jt.trackEvent)(function(e){var t=e.category,n=e.name;return{action:"startprocess",category:t,label:"Start process: ".concat(t,":").concat(n)}})),Object(Et.a)(Ne,"settings/initialize",Object(jt.trackEvent)(function(){return{action:"initializesettings",category:"Load",label:"Load application"}})),Object(Et.a)(Ne,"voice/setvoices",Object(jt.trackEvent)(function(e){return{action:"setvoices",category:"Load",label:"Available voices: Thai: ".concat(e.payload.thaiVoices.length,", English: ").concat(e.payload.englishVoices.length)}})),Object(Et.a)(Ne,"settings/setpronunciationtype",Object(jt.trackEvent)(function(e){return{action:"changepronuncation",category:"Settings",label:e.payload}})),Object(Et.a)(Ne,"settings/setpracticelimit",Ct()(1e3,Object(jt.trackEvent)(function(e){return{action:"setpracticewordlimit",category:"Settings",label:"Set practice limit ".concat(e.payload.practiceWordLimit)}}))),Object(Et.a)(Ne,"settings/settestlimit",Ct()(1e3,Object(jt.trackEvent)(function(e){return{action:"settestwordlimit",category:"Settings",label:"Set test limit ".concat(e.payload.testingWordLimit)}}))),Object(Et.a)(Ne,"settings/setpracticedisplayorder",Ct()(1e3,Object(jt.trackEvent)(function(e){return{action:"setpracticedisplayorder",category:"Settings",label:e.payload.practiceOrder.join(", ")}}))),Object(Et.a)(Ne,"voice/setThaiVoice",Object(jt.trackEvent)(function(e){return{action:"changethaivoice",category:"Voice",label:"Set Thai voice: ".concat(e.payload.name)}})),Object(Et.a)(Ne,"voice/setEnglishVoice",Object(jt.trackEvent)(function(e){return{action:"changeenglishvoice",category:"Voice",label:"Set English voice: ".concat(e.payload.name)}})),Object(Et.a)(Ne,"words/registerpracticeend",Object(jt.trackEvent)(function(e){return{action:"endpractice",category:"Practice",label:"End ".concat(e.payload.type," practice: ").concat(e.payload.count)}})),Object(Et.a)(Ne,"test/settesttype",Object(jt.trackEvent)(function(e){return{action:"starttest",category:"Test",label:At(e.payload)}})),Object(Et.a)(Ne,"test/completetest",Object(jt.trackEvent)(function(e){return{action:"completetest",category:"Test",label:xt(e.payload)}})),Ne),Tt=Object(Ot.createMiddleware)(St,kt()("UA-124762758-1"),{}),Vt={trackRouteChange:function(e){return function(t){return t({type:"tracking/trackroutechange",payload:e})}},trackStartPracticeType:function(e){return function(t){return t({type:"tracking/startprocess",payload:{category:"Practice",name:e}})}}},Pt=Object(E.c)({view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("view/changesubview"===n)return Object(y.a)({},e,{subview:a});if("words/closepractice"===n)return Object(y.a)({},e,{subview:null});if("view_changepreviewfilter"===n){var r=e.previewFilter.filter(function(e){return e!==a});return r.length===e.previewFilter.length&&r.push(a),Object(y.a)({},e,{previewFilter:r})}return"view/togglehint"===n?Object(y.a)({},e,{hintVisible:!e.hintVisible}):"view_applicationready"===n?Object(y.a)({},e,{applicationReady:!0}):e},voice:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,n=arguments.length>1?arguments[1]:void 0;if("voice/setvoices"===n.type){var a=n.payload,r=a.thaiVoices,c=a.englishVoices,s=a.thaiVoice,o=a.englishVoice,i=a.rate;return Object(y.a)({},t,{thaiVoices:r,thaiVoice:s,englishVoices:c,englishVoice:o,rate:i})}if("voice/setEnglishVoice"===n.type){!function(e){var t=e.name;_e=Qe(Be,t)||_e,Je()}(n.payload);var l=Ze().englishVoice;return Xe("voices/languageenglish",{term:"I'll be your English voice"}),Object(y.a)({},t,{englishVoice:l})}if("voice/setThaiVoice"===n.type){!function(e){var t=e.name;ze=Qe(Fe,t)||ze,Je()}(n.payload);var u=Ze().thaiVoice;return Xe(Ke,{thai:"\u0e09\u0e31\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e41\u0e19\u0e30\u0e19\u0e33\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),Object(y.a)({},t,{thaiVoice:u})}if("voice/setRate"===n.type){e=n.payload,Ge=e,Je();var p=Ze().rate;return Xe(Ke,{thai:"\u0e09\u0e31\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e41\u0e19\u0e30\u0e19\u0e33\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),Object(y.a)({},t,{rate:p})}return t},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"settings/initialize":case"settings/setpracticelimit":case"settings/settestlimit":case"settings/setpracticedisplayorder":case"settings/toggleallatonce":case"settings/togglecharacterclasses":case"settings/toggleresetprogress":case"settings/resetprogress":return Object(y.a)({},e,a);case"settings/setpronunciationtype":return Object(y.a)({},e,{pronunciationType:"IPA"===a?"IPA":$});default:return e}},words:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("words/advance"===n){var r=-1===a?-1:1,c=e.queue.length,s=(e.currentIndex+c+r)%c;return Object(y.a)({},e,{currentIndex:s,currentStage:0})}if("words/nudge"===n){if(e.currentStage<2)return Object(y.a)({},e,{currentStage:e.currentStage+1});var o=e.queue.length,i=(e.currentIndex+o+1)%o;return Object(y.a)({},e,{currentIndex:i,currentStage:0})}if("words/nudgesound"===n){if(0===e.currentStage)return Object(y.a)({},e,{currentStage:1});var l=e.queue.length;return Object(y.a)({},e,{currentIndex:(e.currentIndex+1+l)%l,currentStage:0})}if("words/advancesound"===n){var u=e.queue.length;return-1===a?Object(y.a)({},e,{currentIndex:(e.currentIndex+u-1)%u,currentStage:0}):Object(y.a)({},e,{currentIndex:(e.currentIndex+u+1)%u,currentStage:0})}if("words/reseed"===n){var p=a.words,d=function(e,t,n){var a=e.filter(function(e){var t=e.aspectScores,n=void 0===t?null:t;return null!==n&&0===Math.min.apply(Math,Object(w.a)(n))}),r=e.filter(function(e){var t=e.aspectScores;return null===(void 0===t?null:t)}).map(function(e){return Object(y.a)({},e,{date:n,dueDate:n,aspectScores:[0,0]})});return[].concat(Object(w.a)(a),Object(w.a)(r)).slice(0,t)}(p,a.limit,S());be(p=function(e,t){return e.map(function(e){return t.find(function(t){return t.id===e.id})||e})}(p,d));var m=Pe(d);return Object(y.a)({},e,{words:p,queue:m,currentIndex:0})}if("settings/resetprogress"===n){var h=function(e){return e.map(function(e){return Object(y.a)({},e,{aspectScores:void 0,date:void 0,dueDate:void 0})})}(e.words);return Object(y.a)({},e,{words:h,queue:[],currentIndex:0})}return"words/closepractice"===n?Object(y.a)({},e,{queue:[],currentIndex:0}):"words/setwords"===n?Object(y.a)({},e,{words:a}):"test/saved"===n?Object(y.a)({},e,{words:a}):e},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"test/acceptanswer"===n?Object(y.a)({},e,a):"test/settesetwords"===n?Object(y.a)({},e,a,{stage:0,index:0}):"test/settesttype"===n?Object(y.a)({},e,a):"test/completetest"===n?Object(y.a)({},e,a,{isComplete:!0}):"test/saved"===n?Object(y.a)({},e,{isSaved:!0}):"test/clearall"===n?Object(y.a)({},e,Te):e},sounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("sounds/loadvowels"===n&&!1===e.vowelsLoaded){var r=a.map(function(e){var t=e.vowel,n=e.examples,a=e.pronunciation,r=Object(q.a)(a,2);return{vowel:t,examples:n,ipa:r[0],paiboon:r[1]}}).filter(function(e){return e.examples.length>0});return Object(y.a)({},e,{vowels:r,vowelsLoaded:!0,visibleVowel:null})}if("sounds/clearsounds"===n)return Object(y.a)({},e,tt);if("sounds/loadconsonants"===n&&!1===e.consonantsLoaded){var c=a.confusions,s=a.consonants,o=a.consonantKeys;return Object(y.a)({},e,{consonants:s,confusions:c,consonantKeys:o,consonantsLoaded:!0,visibleConsonantKey:null})}if("sounds/loadconfusion"===n&&!1===e.confusionLoaded){var i=a.confusions,l=a.consonants,u=a.consonantKeys;return Object(y.a)({},e,{consonants:l,confusions:i,consonantKeys:u,confusionLoaded:!0,visibleConfusion:0})}return"sounds_showvowel"===n?Object(y.a)({},e,{visibleVowel:a}):"sounds/showconsonantsbykey"===n?Object(y.a)({},e,{visibleConsonantKey:a}):"sounds/showconfusionbyindex"===n?Object(y.a)({},e,{visibleConfusion:a}):e},tones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"tones/initialize":return Object(y.a)({},e,a);default:return e}}}),Lt=[Tt,O.a],It=E.d.apply(void 0,[E.a.apply(void 0,Lt)].concat(Object(w.a)([]))),Mt=Object(E.e)(Pt,It),Wt=Object(y.a)({},We,et,xe,Ie,Ve,st,wt,Vt),Dt=Mt,Rt=n(243),qt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),Kt=Object(Rt.a)(qt),Ft=function(){return r.a.createElement("div",null,"Loading...")},zt=n(240),Ut=function(e){return{"/":"Home","/basics":"Basics","/basics/vowels":"Vowels","/basics/consonants":"Consonants","/basics/consonants/review":"Review","/basics/consonants/confusion":"Easily confused consonants","/basics/tones":"Tones","/basics/tones/classes":"Consonant classes","/basics/tones/rules":"Tone rules","/practice":"Practice","/practice/full":"Full","/practice/sounds-only":"Sounds Only","/test":"Test","/test/overdue":"Scheduled words","/test/current":"Practice words","/progress":"Progress","/settings":"Settings"}[e]||null},Bt=function e(t){var n=t.location.pathname,c=t.match,s=Ut(c.url);return r.a.createElement(a.Fragment,null,r.a.createElement("li",{className:c.isExact?"breadcrumb-active":void 0},"\u27eb ",n===c.url?r.a.createElement("span",null,s):r.a.createElement(zt.a,{to:c.url||""},s)),r.a.createElement(v.a,{path:"".concat(c.url,"/:path"),component:e}))},_t=Object(Rt.a)(function(e){var t=e.location.pathname;return"/"!==t&&Ut(t)?r.a.createElement("div",{className:"breadcrumbs"},r.a.createElement("ul",{className:"container"},r.a.createElement("li",null,r.a.createElement(zt.a,{to:"/"},"Home")),r.a.createElement(v.a,{path:"/:path",component:Bt}))):null}),Ht=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Read Thai"),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics"},"The basics")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/practice"},"Practice words")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/test"},"Test words")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/progress"},"View progress")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/settings"},"Settings")))},Gt=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Basics"),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/vowels"},"Thai vowels")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/consonants"},"Thai consonants")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/tones"},"Thai tones")))},Jt=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Consonants"),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/consonants/review"},"Review consonants")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/consonants/confusion"},"Easily confused consonants")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/tones/classes"},"Consonant classes")))},Qt=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Tones"),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/tones/classes"},"Consonant classes")),r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/basics/tones/rules"},"Tone rules")))},Xt=function(e){var t=e.children,n=e.onClick,a=e.selected;return r.a.createElement("div",{onClick:n,className:"toggle-header ".concat(a?"selected":"")},t)},Yt=n(17),Zt=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).play=n.play.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"play",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.target.blur(),n=this.props.word,e.next=5,Xe(Ke,n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.play},"\u25b7")}}]),t}(a.Component),$t=n(126),en=function(e){var t=e.progress;return r.a.createElement("div",{className:"progress-meter"},r.a.createElement($t.a,{percentage:100*t,strokeWidth:30,styles:{background:{fill:"#3e98c7"},path:{stroke:t<1?"#8bc34a":"gold"},trail:{stroke:"#eee"}}}))},tn=function(e){var t=e.word,n=e.pronunciationType,a=e.showProgress,c=t.term,s=t.thai,o=t.ipa,i=t.paiboon,l=t.aspectScores,u=void 0===l?[0,0]:l;return r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement(Zt,{word:t})," ",function(e,t,n){return"IPA"===n?e:t}(o,i,n)),a?r.a.createElement("td",{className:"progress-icons"},r.a.createElement(en,{progress:Math.min.apply(Math,Object(w.a)(u))/5})):null)},nn=function(e){var t=e.pronunciationType,n=e.showProgress,a=e.visibleWords.map(function(e){return r.a.createElement(tn,{word:e,key:e.id,pronunciationType:t,showProgress:n})}),c=n?"words-table":"words-table no-progress";return r.a.createElement("div",{className:c},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Term"),r.a.createElement("th",null,"Thai"),r.a.createElement("th",null,"Pronunciation"),n?r.a.createElement("th",null,"Progress"):null)),r.a.createElement("tbody",null,a)))};nn.defaultProps={showProgress:!0};var an=nn,rn=(n(152),Object(g.b)(function(e){return{words:e.words.words,pronunciationType:e.settings.pronunciationType,previewFilter:e.view.previewFilter}},Wt)(an)),cn=C(je),sn=function(e){var t=e.togglePreviewFilterStatus,n=e.words,a=e.previewFilter,c=cn(n,S(new Date),a);return r.a.createElement("div",{className:"progress-page"},r.a.createElement("h1",null,"Progress"),r.a.createElement("div",{className:"filter"},r.a.createElement(Xt,{onClick:function(){return t(re)},selected:a.includes(re)},"Practice words"),r.a.createElement(Xt,{onClick:function(){return t(ce)},selected:a.includes(ce)},"Currently due for testing"),r.a.createElement(Xt,{onClick:function(){return t(se)},selected:a.includes(se)},"Pending tests"),r.a.createElement(Xt,{onClick:function(){return t(oe)},selected:a.includes(oe)},"Mastered words"),r.a.createElement(Xt,{onClick:function(){return t(ae)},selected:a.includes(ae)},"Future words")),r.a.createElement(rn,{visibleWords:c}))},on=(n(153),Wt.togglePreviewFilterStatus),ln=Object(g.b)(function(e){return{words:e.words.words,previewFilter:e.view.previewFilter}},{togglePreviewFilterStatus:on})(sn),un=function(e){var t=e.label,n=e.disabled,a=e.onClick;return r.a.createElement("button",{onClick:a,className:n?"selected":null},t)},pn=function(e){var t=e.voices,n=e.selectedVoice,a=e.onSelectVoice,c=e.heading,s=t.map(function(e){return r.a.createElement(un,{key:e.name,label:e.name,disabled:e===n,onClick:function(){return a(e)}})});return r.a.createElement("div",{className:"voice-selector"},r.a.createElement("h2",null,c," (",t.length," available)"),r.a.createElement("div",{className:"voices"},s))},dn=n(65),mn=function(e){var t,n=e.value,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h2",null,"Speech rate (Thai)"),r.a.createElement(dn.a,{min:.5,max:1.8,step:.1,value:n,onChange:a}),r.a.createElement("div",null,(t=n,"".concat(Math.round(100*t),"%"))))},hn=function(e){var t=e.word;return r.a.createElement("div",{className:"sample"},r.a.createElement("div",null,t.ipa),r.a.createElement("div",null,r.a.createElement(Zt,{word:t})),r.a.createElement("div",null,t.paiboon))},fn=["\u0e2a\u0e23\u0e49\u0e32\u0e07","\u0e40\u0e2e\u0e49\u0e2d","\u0e08\u0e23\u0e34\u0e15","\u0e01\u0e35\u0e2c\u0e32","\u0e01\u0e32\u0e23\u0e40\u0e21\u0e37\u0e2d\u0e07","\u0e1b\u0e01\u0e04\u0e23\u0e2d\u0e07"],vn=function(e,t,n){return n?r.a.createElement("button",{className:"disabled-button"},e):r.a.createElement("button",{onClick:t},e)},bn=function(e){var t=e.changePronunciationType,n=e.pronunciationType,a=e.words,c=fn.map(function(e){return a.find(function(t){return t.thai===e})}).map(function(e){return r.a.createElement(hn,{key:e.thai,word:e})}),s=n===$?"samples paiboon":"samples ipa";return r.a.createElement("div",{className:"voice-selector"},r.a.createElement("h2",null,"Displayed Pronunciation"),r.a.createElement("p",null,"The goal of this entire site is for you to be able to read without any intermediate transcription system."),r.a.createElement("p",null,"But to get you there, this site supports two popular phonemic transcription systems: the ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/International_Phonetic_Alphabet"},"International Phonemic Alphabet"),", a standard system used commonly by linguists to transcribe virtually any human language; and the Paiboon system, developed by ",r.a.createElement("a",{href:"https://www.paiboonpublishing.com/"},"Paiboon Publishing"),"."),r.a.createElement("p",null,"Which should you use? That depends on you. IPA is generally considered to be the most complete transcription system in common use. Paiboon, on the other hand, is more popular in print and on the Internet. But it is more important that you select a system that makes the most sense to you. Or perhaps stick to the system you already have seen in other study books. No matter which system you pick, you have to prepare yourself to deal with unfamiliar symbols for Thai's many unfamiliar sounds."),r.a.createElement("p",null,"Still not sure? Listen to a few of the sample words below and then look at how the two systems transcribe these words. Then select the system that makes greatest sense to you."),r.a.createElement("div",{className:s},r.a.createElement("div",{className:"sample"},r.a.createElement("div",null,vn("Use I.P.A.",function(){return t("IPA")},"IPA"===n)),r.a.createElement("div",null),r.a.createElement("div",null,vn("Use Paiboon",function(){return t($)},n===$))),c))},gn=n(70),yn=function(e,t,n){return Object(y.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:e?"#73959a":n?"#eee":"#c8dbde",color:e?"#fff":n?"#ccc":"initial",textAlign:"center"},t)},wn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=n.onDragEnd.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onDragEnd",value:function(e){var t=e.source,n=e.destination;if(n){var a=function(e,t,n){var a=e[t];if(void 0===a)return Object(w.a)(e);n=n<0?0:n;var r=[].concat(Object(w.a)(e.slice(0,t)),Object(w.a)(e.slice(t+1)));return[].concat(Object(w.a)(r.slice(0,n)),[a],Object(w.a)(r.slice(n)))}(this.props.order,t.index,n.index);this.props.onChange(a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled;return r.a.createElement("div",{className:n},r.a.createElement(gn.a,{onDragEnd:this.onDragEnd},r.a.createElement(gn.c,{droppableId:"droppable",isDropDisabled:a},function(t,n){return r.a.createElement("div",{ref:t.innerRef,style:(c=n.isDraggingOver,{borderWidth:"1px",borderStyle:"solid",borderColor:c?"#999":"#ddd",padding:8,width:250})},e.props.order.map(function(e,t){return r.a.createElement(gn.b,{key:e,draggableId:e,index:t,isDragDisabled:a},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:yn(n.isDragging,t.draggableProps.style,a)}),e)})}));var c})))}}]),t}(a.Component),En=function(e){var t=e.changePracticeDisplayOrder,n=e.practiceAllAtOnce,a=e.practiceOrder;return r.a.createElement("div",null,r.a.createElement("h2",null,"Practice Reveal Order"),r.a.createElement("div",{className:"all-at-once"},r.a.createElement("input",{type:"checkbox",id:"practiceAllAtOnce",checked:!n,onChange:function(){return t({practiceAllAtOnce:!n})},name:"toggle"})," ",r.a.createElement("label",{htmlFor:"practiceAllAtOnce"},"Reveal words incrementally in the following order")),r.a.createElement(wn,{className:"practice-order-selector",order:a,onChange:function(e){return t({practiceOrder:e})},disabled:n}))},On=function(e){var t=e.min,n=e.max,a=e.value,c=e.onChange,s=e.heading;return r.a.createElement("div",null,r.a.createElement("h2",null,s),r.a.createElement(dn.a,{min:t,max:n,step:1,value:a,onChange:c}),r.a.createElement("div",null,a))},jn=function(e){var t=e.word;return r.a.createElement(a.Fragment,null,dt(t.thai).map(function(e,t){var n,a=Object(q.a)(e,2),c=a[0],s=a[1];return r.a.createElement("span",{key:t,className:(n=s,3===n?"tc_low":2===n?"tc_mid":1===n?"tc_high":"tc_none")},c)}))},kn=function(e){var t=e.onToggle,n=e.showCharacterClasses;return r.a.createElement("div",null,r.a.createElement("h2",null,"Practice hints"),r.a.createElement("div",{className:"button-group"},r.a.createElement("div",{onClick:n?null:t,className:"toggle-header ".concat(n?"selected":"")},"Color character class"),r.a.createElement("div",{onClick:n?t:null,className:"toggle-header ".concat(n?"":"selected")},"No color")),r.a.createElement("div",null,r.a.createElement("h3",null,n?r.a.createElement(jn,{word:{thai:"\u0e2b\u0e22\u0e33\u0e40\u0e1b"}}):"\u0e2b\u0e22\u0e33\u0e40\u0e1b")))},Nn=function(e){var t=e.resetProgress,n=e.toggleResetProgress,a=e.resetProgressVisible,c=N({modal:!0,visible:a});return r.a.createElement("div",{className:"reset-progress"},r.a.createElement("h2",null,"Speech rate (Thai)"),r.a.createElement("div",{className:"button-group"},r.a.createElement("div",{className:"danger",onClick:n},"Reset progress")),r.a.createElement("p",null,"Be careful! Resetting your progress will be like starting all tests from scratch."),r.a.createElement("div",{className:c},r.a.createElement("div",{className:"bg",onClick:n}),r.a.createElement("div",{className:"fg"},r.a.createElement("h3",null,"Reset progress?"),r.a.createElement("div",null,r.a.createElement("button",{onClick:n},"Cancel"),r.a.createElement("button",{className:"danger",onClick:t},"Reset progress")))))},Cn=function(e){var t=e.pronunciationType,n=e.rate,a=e.thaiVoice,c=e.thaiVoices,s=e.englishVoice,o=e.englishVoices,i=e.words,l=e.practiceWordLimit,u=e.testingWordLimit,p=e.practiceOrder,d=e.practiceAllAtOnce,m=e.showCharacterClasses,h=e.resetProgressVisible,f=e.changePracticeDisplayOrder,v=e.changePronunciationType,b=e.changePracticeWordLimit,g=e.changeTestingWordLimit,y=e.setRate,w=e.setThaiVoice,E=e.setEnglishVoice,O=e.toggleCharacterClasses,j=e.resetProgress,k=e.toggleResetProgress;return r.a.createElement("div",{className:"settings"},r.a.createElement("h1",null,"Settings"),r.a.createElement("section",null,r.a.createElement(pn,{heading:"Thai voices",voices:c,selectedVoice:a,onSelectVoice:w}),r.a.createElement(pn,{heading:"English voices",voices:o,selectedVoice:s,onSelectVoice:E})),r.a.createElement("section",null,r.a.createElement(mn,{value:n,onChange:y})),r.a.createElement("section",{className:"practice-order"},r.a.createElement(En,{changePracticeDisplayOrder:f,practiceWordLimit:l,practiceOrder:p,practiceAllAtOnce:d})),r.a.createElement("section",null,r.a.createElement(kn,{onToggle:O,showCharacterClasses:m})),r.a.createElement("section",null,r.a.createElement(On,{heading:"Ideal number of words to practice at once",min:5,max:30,value:l,onChange:b})),r.a.createElement("section",null,r.a.createElement(On,{heading:"Maximum number of words to test at once",min:5,max:30,value:u,onChange:g})),r.a.createElement("section",null,r.a.createElement(bn,{pronunciationType:t,changePronunciationType:v,words:i})),r.a.createElement("section",null,r.a.createElement(Nn,{toggleResetProgress:k,resetProgress:j,resetProgressVisible:h})))},xn=(n(218),Object(g.b)(function(e){var t=e.voice,n=t.thaiVoice,a=t.thaiVoices,r=t.englishVoice,c=t.englishVoices,s=t.rate,o=e.words.words,i=e.settings;return{words:o,englishVoice:r,englishVoices:c,thaiVoice:n,thaiVoices:a,rate:s,pronunciationType:i.pronunciationType,practiceWordLimit:i.practiceWordLimit,testingWordLimit:i.testingWordLimit,practiceOrder:i.practiceOrder,practiceAllAtOnce:i.practiceAllAtOnce,showCharacterClasses:i.showCharacterClasses,resetProgressVisible:i.resetProgressVisible}},Wt)(Cn)),An=n(131),Sn=C(je),Tn=function(e){var t=e.practiceWordLimit,n=e.words,a=Sn(n,S(new Date),[re]).slice(0,t);return r.a.createElement("div",{className:"preview"},r.a.createElement(zt.a,{className:"start-button",to:"/practice/full"},"Start"),r.a.createElement("section",null,r.a.createElement("h2",null,"Words for this session"),r.a.createElement(rn,{visibleWords:a,showPreview:!1,showProgress:!1})))},Vn=n(35),Pn=function(e){var t=e.index,n=e.word,a=e.stage,c=e.practiceAllAtOnce,s=e.pronunciationType,o=e.prop,i=e.showCharacterClasses,l=e.type,u="pronunciation"===l,p="thai"===l,d=c||a>=t,m=u?n[s===$?"paiboon":"ipa"]:p&&i?r.a.createElement(jn,{word:n}):n[l],h=N(Object(Et.a)({visible:d},o,!0)),f=u?r.a.createElement(Zt,{word:n}):null;return r.a.createElement("div",{className:h},m," ",f)},Ln=function(e){var t=e.word,n=e.onClick,a=e.pronunciationType,c=e.stage,s=e.practiceOrder,o=e.practiceAllAtOnce,i=e.showCharacterClasses,l=s.map(function(e,n){return r.a.createElement(Pn,{key:e,index:n,type:s[n],practiceAllAtOnce:o,pronunciationType:a,stage:c,word:t,showCharacterClasses:i,prop:e})}),u=c>1?"\xbb":"\u203a";return r.a.createElement("div",{onClick:n,className:N({card:!0,practiceAllAtOnce:o})},l,r.a.createElement("span",{className:"next-button"},u))},In=(n(113),function(e){var t=e.children,n=e.toggleHint,a=e.title,c=e.hintVisible,s=N({hint:!0,visible:c});return r.a.createElement("div",{className:s},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"background",onClick:n}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"left-side"},"\u2139"),r.a.createElement("div",{className:"right-side"},r.a.createElement("h2",null,a),r.a.createElement("section",null,t)))),r.a.createElement("button",{onClick:n},"?"))});In.defaultProps={title:"Hint"};var Mn=In,Wn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).cardsSeen=0,n.onKey=n.onKey.bind(Object(Yt.a)(n)),document.addEventListener("keydown",n.onKey),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){e.currentIndex!==this.props.currentIndex&&(this.cardsSeen+=1)}},{key:"componentWillUnmount",value:function(){this.props.registerPracticeEnd("full",this.cardsSeen),document.removeEventListener("keydown",this.onKey)}},{key:"onKey",value:function(e){var t=e.code,n=this.props,a=n.advancePractice,r=n.practiceAllAtOnce,c=n.nudgePractice;r||"Space"!==t&&"ArrowDown"!==t&&"Enter"!==t?"ArrowRight"===t?a(1):"ArrowLeft"===t&&a(-1):c()}},{key:"render",value:function(){var e=this.props,t=e.pronunciationType,n=e.queue,c=e.currentIndex,s=e.currentStage,o=e.nudgePractice,i=e.practiceAllAtOnce,l=e.practiceOrder,u=e.showCharacterClasses,p=n[c];if(!p)return null;(i||"pronunciation"===l[s])&&setTimeout(function(){return Xe(Ke,p)},300);var d=r.a.createElement(Vn.CSSTransition,{key:p.id,timeout:500,classNames:"card"},r.a.createElement(Ln,{word:n[c],stage:s,onClick:function(){return o(i)},pronunciationType:t,practiceAllAtOnce:i,practiceOrder:l,showCharacterClasses:u}));return r.a.createElement(a.Fragment,null,r.a.createElement(Mn,Object.assign({},this.props,{title:"Instructions"}),r.a.createElement("p",null,"Press [Space] or [Enter] to advance"),r.a.createElement("p",null,"Press [Right Arrow] to skip to the next word."),r.a.createElement("p",null,"Press [Left Arrow] to jump back to the last word."),r.a.createElement("p",null,"Go to settings to change the number of words to practice at once.")),r.a.createElement(Vn.TransitionGroup,{className:"cards"},d))}}]),t}(a.Component),Dn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.practiceWordLimit;(0,e.seedPractice)(e.words,t)}},{key:"componentWillUnmount",value:function(){this.props.closePractice()}},{key:"render",value:function(){var e=this.props,t=e.match.params,n=Object(An.a)(e,["match"]),a=t.type||null;return r.a.createElement("div",{className:"practice"},r.a.createElement(zt.a,{className:"test-button",to:"/test/current"},"Test now ",r.a.createElement("span",{className:"icon"},"\u3009")),r.a.createElement("h1",null,"Practice"),"full"===a?r.a.createElement(Wn,n):r.a.createElement(Tn,n))}}]),t}(a.Component),Rn=(n(226),Object(g.b)(function(e){var t=e.words,n=e.settings,a=e.view;return{currentIndex:t.currentIndex,currentStage:t.currentStage,hintVisible:a.hintVisible,queue:t.queue,words:t.words,practiceWordLimit:n.practiceWordLimit,pronunciationType:n.pronunciationType,practiceOrder:n.practiceOrder,practiceAllAtOnce:n.practiceAllAtOnce,showCharacterClasses:n.showCharacterClasses,subview:a.subview}},Wt)(Dn)),qn=function(e){return e.length||0},Kn=Object(Rt.a)(function(e){var t=e.testingWordLimit,n=e.words,a=Ee(n),c=we(n,S()),s=function(e){return e.filter(function(e){var t=e.aspectScores,n=void 0===t?null:t;return null!==n&&Math.min.apply(Math,Object(w.a)(n))>4})}(n),o=qn(c),i=qn(a),l=qn(s);return o||i||l?o||i?r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Test"),r.a.createElement("h2",null,"Select what you would like to test"),0===c.length?null:r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/test/overdue"},"Overdue (",o||"none",")")),0===a.length?null:r.a.createElement("section",null,r.a.createElement(zt.a,{className:"button",to:"/test/current"},"Current (",i||"none",")")),r.a.createElement("section",null,r.a.createElement("aside",null,"According to your ",r.a.createElement(zt.a,{to:"/settings"},"settings"),", tests will cover a maximum of ",t," words at a time. It is important to set the right value. Too high and tests will seem tedious and you'll hate doing them. Too low, and they won't be a challenge."))):r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Nothing to test."),r.a.createElement("h2",null,"You have mastered all words")):r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Nothing to test"),r.a.createElement("h2",null,"You need to ",r.a.createElement(zt.a,{to:"/practice"},"practice")," before you can test"))}),Fn=(n(227),Wt.setTestType),zn=Object(g.b)(function(e){return{testingWordLimit:e.settings.testingWordLimit,words:e.words.words}},{setTestType:Fn})(Kn),Un=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.property;this.speak=this.speak.bind(this),Ye(e)&&setTimeout(this.speak,500)}},{key:"speak",value:function(){var e=this.props.word;Xe(Ke,e)}},{key:"render",value:function(){var e=this.props,t=e.word,n=e.property;return Ye(n)?r.a.createElement("div",{className:"question"},t[n]," ",r.a.createElement(Zt,{word:t})):r.a.createElement("div",{className:"question"},t[n])}}]),t}(a.Component),Bn=function(e,t,n,a){return null===t?"answer":a&&e===n?"answer correct":a&&e===t&&e!==n?"answer incorrect":a?"answer hidden":t===e?"answer selected":null===t?"answer":"answer rejected"},_n=function(e){var t=e.word,n=e.property,a=e.onSelect,c=e.selected,s=e.correct,o=e.isAnswered;return r.a.createElement("div",{className:Bn(t,c,s,o),onClick:a},r.a.createElement("span",{className:n},t[n]),Ye(n)?r.a.createElement("span",{className:"play-button"},r.a.createElement(Zt,{word:t})):null)},Hn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).defaultButtonRef=Object(a.createRef)(),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.defaultButtonRef.current&&this.defaultButtonRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.isAnswered,n=e.isCorrect,a=e.isLastQuestion,c=e.submitAnswer;return t&&a?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:n?"default success":"default fail",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"View Results")):t&&n?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"default success",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"Very good! Next")):t?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"small-text",onClick:function(){return c(n)}},"Mark as correct anyway"),r.a.createElement("button",{className:"default fail",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"Next")):r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"default",onClick:function(){return c(null)}},"Not sure / Skip"))}}]),t}(a.Component),Gn=[{question:"thai",answer:"pronunciation"},{question:"pronunciation",answer:"thai"}],Jn=function(e,t){return"pronunciation"===e?"IPA"===t?"ipa":"paiboon":e},Qn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var s=(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).props,o=s.queue,i=s.index,l=s.stage,p=s.words,h=s.pronunciationType,f=Jn(Gn[l].answer,h),v=L([].concat(Object(w.a)(P(o[i],f,p).slice(0,8)),[o[i]]));return n.state={property:f,answers:v,selectedAnswer:null},n.answer=n.answer.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"answer",value:function(e){this.state.selectedAnswer||this.setState({selectedAnswer:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.queue,a=t.index,c=t.stage,s=t.pronunciationType,o=t.submitAnswer,i=this.state,l=i.answers,u=i.property,p=i.selectedAnswer,d=n[a],m=null!==p,h=l.map(function(t){return r.a.createElement(_n,{key:t.id,isAnswered:m,correct:d,selected:p,word:t,property:u,pronunciationType:s,onSelect:function(){return e.answer(t)}})}),f=d===p;return r.a.createElement("div",{className:"challenge"},r.a.createElement(Un,{word:d,property:Jn(Gn[c].question,s)}),r.a.createElement("div",{className:"answers"},h),r.a.createElement(Hn,{isLastQuestion:a===n.length-1,isCorrect:f,index:a,isAnswered:m,submitAnswer:o}))}}]),t}(a.PureComponent),Xn=function(e){var t=e.index,n=e.queue,a={width:"".concat(Math.floor(1e3*t/n.length)/10,"%")},c="progress stage-".concat(Math.floor(3*t/n.length));return r.a.createElement("div",{className:c},r.a.createElement("div",{style:a,className:"bar"}))},Yn=function(e){return r.a.createElement("div",{className:"test"},r.a.createElement(Vn.TransitionGroup,{className:"content"},r.a.createElement(Vn.CSSTransition,{timeout:400,key:e.index,classNames:"challenge-container"},r.a.createElement(Qn,Object.assign({key:e.index},e)))),r.a.createElement(Xn,e))},Zn=(n(228),Object(g.b)(function(e){return{pronunciationType:e.settings.pronunciationType,testWords:e.test.testWords,queue:e.test.queue,type:e.test.type,stage:e.test.stage,isComplete:e.test.isComplete,submitAnswer:e.test.submitAnswer,index:e.test.index,words:e.words.words}},Wt)(Yn)),$n=function(e){var t=e.scores[e.index],n=function(e){return 1===e?"correct":-1===e?"incorrect":null}(t),a=function(e){return 1===e?"\u2713":-1===e?"\u2715":"\u2003"}(t);return r.a.createElement("span",{className:n},a)},ea=function(e){var t=e.word,n=e.aspectScores;return r.a.createElement("div",{className:"result"},r.a.createElement("div",null,t.thai),r.a.createElement("div",null,r.a.createElement($n,{index:0,scores:n})),r.a.createElement("div",null,r.a.createElement($n,{index:1,scores:n})))},ta=function(e){var t=e.saveTest,n=e.testWords,a=e.scores,c=n.map(function(e){var t=a.reduce(function(t,n){var a=n.id,r=n.score,c=n.aspect;return a===e.id&&(t[c]=r),t},[0,0]);return r.a.createElement(ea,{key:e.id,word:e,aspectScores:t})});return r.a.createElement("div",{className:"test-results"},r.a.createElement("h1",null,"Results"),r.a.createElement("section",null,r.a.createElement("button",{className:"save-button",onClick:function(){return t(a)}},"Save results")),r.a.createElement("section",{className:"items"},r.a.createElement("div",{className:"result header"},r.a.createElement("div",null),r.a.createElement("div",null,"Reading"),r.a.createElement("div",null,"Comprehension")),c))},na=(n(229),Object(g.b)(function(e){return{testWords:e.test.testWords,scores:e.test.scores,queue:e.test.queue,pronunciationType:e.settings.pronunciationType}},Wt)(ta)),aa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.match.params,a=e.setTestType;"current"===n.type?a(1)||t.replace("/test"):"overdue"===n.type&&a(0)||t.replace("/test")}},{key:"componentDidUpdate",value:function(){this.props.isSaved&&this.props.history.push("/progress")}},{key:"componentWillUnmount",value:function(){this.props.clearTest()}},{key:"render",value:function(){var e=this.props,t=e.isComplete,n=e.queue;return t?r.a.createElement(na,null):0===n.length?r.a.createElement(zn,null):r.a.createElement(Zn,null)}}]),t}(a.Component),ra=Object(Rt.a)(aa),ca=Object(g.b)(function(e){var t=e.test,n=t.isComplete,a=t.isSaved,r=t.queue;return{hintVisible:e.view.hintVisible,isComplete:n,isSaved:a,queue:r}},Wt)(ra),sa=function(e){var t=e.examples;return r.a.createElement("div",{className:"examples"},t.map(function(e,t){return r.a.createElement("span",{key:t},e," ",r.a.createElement(Zt,{word:{thai:e}}))}))},oa=function(e){var t=e.vowel,n=e.pronunciationType,c=e.onNext,s=e.onPrev;return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"prev navigation-button",onClick:function(){return s(t)},title:"Previous (\u2190)"},"\u3008")),r.a.createElement("div",{className:"main-content"},r.a.createElement("h1",null,t.vowel),r.a.createElement("h2",null,"IPA"===n?t.ipa:t.paiboon," ",r.a.createElement(Zt,{word:{thai:t.vowel}})),r.a.createElement(sa,{examples:t.examples})),r.a.createElement("div",null,r.a.createElement("div",{className:"next navigation-button",onClick:function(){return c(t)},title:"Next (\u2192, space)"},"\u3009")))},ia=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=n.onClick.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onClick",value:function(e){var t=e.target,n=this.props.onClick;t.blur(),n()}},{key:"render",value:function(){var e=this.props,t=e.vowel,n=e.visibleVowel;return r.a.createElement("button",{className:t===n?"selected":null,onClick:this.onClick},t.vowel)}}]),t}(a.PureComponent),la=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onKey=n.onKey.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeVowels(),document.addEventListener("keydown",this.onKey)}},{key:"componentWillUnmount",value:function(){this.props.clearSounds(),document.removeEventListener("keydown",this.onKey)}},{key:"onKey",value:function(e){var t=e.code,n=this.props,a=n.showNextVowel,r=n.showPrevVowel,c=n.visibleVowel;c&&("Space"===t||"ArrowRight"===t?a(c):"ArrowLeft"===t&&r(c))}},{key:"componentDidUpdate",value:function(e){var t=this.props.visibleVowel;if(t&&e.visibleVowel!==t){var n=t.examples;!function(e,t){var n=function(){var t=Object(l.a)(i.a.mark(function t(a){var r,c,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(De.a)(a),c=r[0],s=r.slice(1),t.next=3,Xe(e,"voices/languageenglish"===e?{term:c}:{thai:c});case 3:s.length&&n(s);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();t&&n(t)}(Ke,n)}}},{key:"render",value:function(){var e=this.props,t=e.pronunciationType,n=e.showVowel,a=e.visibleVowel,c=e.vowels,s=e.showNextVowel,o=e.showPrevVowel,i=c.map(function(e,t){return r.a.createElement(ia,{key:t,vowel:e,visibleVowel:a,onClick:function(){return n(e)}})});return r.a.createElement("div",{className:"vowels"},r.a.createElement("section",{className:"visible-vowel"},a?r.a.createElement(oa,{vowel:a,pronunciationType:t,onNext:s,onPrev:o}):" "),r.a.createElement("div",{className:"buttons"},i))}}]),t}(a.Component),ua=(n(230),Object(g.b)(function(e){var t=e.sounds;return{pronunciationType:e.settings.pronunciationType,visibleVowel:t.visibleVowel,vowels:t.vowels}},Wt)(la)),pa=function(e,t){return"Other"===e?1:"Other"===t?-1:e>t?1:-1},da=C(function(e){return Object.keys(e).sort(pa)}),ma=function(e){var t=e.consonantKeys,n=e.showConsonantsByKey,a=e.visibleConsonantKey,c=da(t).map(function(e){return r.a.createElement("li",{key:e,className:e===a?"selected":null,onClick:function(){return n(e)}},e)});return r.a.createElement("nav",{className:"category-picker"},r.a.createElement("ol",null,r.a.createElement("li",{className:a||"selected",onClick:function(){return n(null)}},"All"),c))},ha=C(function(e,t){return Object.keys(e).filter(function(e){return!t||t.indexOf(e)>-1}).map(function(t){return{character:t,consonant:e[t]}})}),fa=function(e){var t=e.consonantKeys,n=e.consonants,a=e.visibleConsonantKey,c=e.pronunciationType,s=ha(n,t[a]).map(function(e){var t=e.character,n=Object(q.a)(e.consonant,5),a=n[2],s=n[3],o=n[4];return r.a.createElement("div",{key:t},r.a.createElement("span",null,r.a.createElement(jn,{word:{thai:t}})),r.a.createElement("span",null,"IPA"===c?a:s),r.a.createElement("span",null,o),r.a.createElement("span",null,r.a.createElement(Zt,{word:{thai:o}})))});return r.a.createElement("div",{className:"list"},s)},va=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={filter:null},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeConsonants()}},{key:"componentWillUnmount",value:function(){this.props.clearSounds()}},{key:"render",value:function(){var e=this.props,t=e.consonantKeys,n=e.consonants,a=e.pronunciationType,c=e.showConsonantsByKey,s=e.visibleConsonantKey;return r.a.createElement("div",{className:"consonants"},r.a.createElement("h1",null,"All consonants"),r.a.createElement(ma,{consonantKeys:t,showConsonantsByKey:c,visibleConsonantKey:s}),r.a.createElement(fa,{consonants:n,consonantKeys:t,visibleConsonantKey:s,pronunciationType:a}))}}]),t}(a.Component),ba=(n(231),Object(g.b)(function(e){var t=e.settings.pronunciationType,n=e.sounds;return{consonantKeys:n.consonantKeys,consonants:n.consonants,pronunciationType:t,visibleConsonantKey:n.visibleConsonantKey}},Wt)(va)),ga=function(e){var t=e.confusions,n=e.visibleConfusion,a=e.showConfusionByIndex,c=t.map(function(e,t){return r.a.createElement("li",{key:t,className:t===n?"selected":null,onClick:function(){return a(t)}},e[0])});return r.a.createElement("nav",{className:"confusion-picker"},r.a.createElement("ol",null,c))},ya=function(e){var t=e.confusions,n=e.visibleConfusion,a=e.consonants,c=e.pronunciationType,s=t[n].map(function(e){return{character:e,consonants:a[e]}}).map(function(e){var t=e.character,n=Object(q.a)(e.consonants,5),a=n[2],s=n[3],o=n[4];return r.a.createElement("div",{key:t},r.a.createElement("span",null,t),r.a.createElement("span",null,"IPA"===c?a:s),r.a.createElement("span",null,o),r.a.createElement("span",null,r.a.createElement(Zt,{word:{thai:o}})))});return r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"characters"},s),r.a.createElement(zt.a,{className:"drill-button",to:"/basics/consonants/confusion/drill-".concat(n)},"Drill ",r.a.createElement("span",{className:"icon"},"\u3009")))},wa=function(e){var t,n=e.correctAnswer,a=e.index,c=e.mistakes,s=e.onSelect,o=e.possibleAnswer,i=n===a,l=c.indexOf(a)>-1,u=l?null:s,p=N((t={},Object(Et.a)(t,"answer-".concat(a),!0),Object(Et.a)(t,"incorrect",l),Object(Et.a)(t,"correct",i),t));return r.a.createElement("h3",{onClick:u,className:p},o)},Ea=M(5),Oa={ArrowLeft:0,ArrowRight:1,ArrowUp:2,ArrowDown:3},ja=function(e){return[e]},ka=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)));var s=r[0],o=s.consonants,i=s.match.params,l=s.confusions,p=s.pronunciationType,h=s.showConfusionByIndex,f=parseInt(i.visibleConfusion,10);if(!l[f])return Object(d.a)(n,null);h(f);var v=l[f].map(function(e){return{char:e,pronunciation:o[e][p===$?3:2]}});ja=R(v.map(function(e){return e.pronunciation}),4);var b=Ea(v);return n.state={correctAnswer:null,currentConsonant:null,currentIndex:-1,mistakes:[],possibleAnswers:[],queue:b,waiting:!1},n.onKey=n.onKey.bind(Object(Yt.a)(n)),n.advance=n.advance.bind(Object(Yt.a)(n)),document.addEventListener("keydown",n.onKey),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.advance(1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.queue,n=this.state.currentIndex+e,a=t[(n+t.length)%t.length],r=ja(a.pronunciation);this.setState({correctAnswer:null,currentIndex:n,currentConsonant:a,possibleAnswers:r,mistakes:[],waiting:!1})}},{key:"selectAnswer",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,c,s,o,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.hintVisible,a=this.state,r=a.correctAnswer,c=a.possibleAnswers,s=a.currentConsonant,o=a.mistakes,!a.waiting&&!n){e.next=4;break}return e.abrupt("return");case 4:return(l=c[t]===s.pronunciation)?r=t:o=[].concat(Object(w.a)(o),[t]),this.setState({correctAnswer:r,mistakes:o,waiting:!0}),e.next=9,x(l?750:500);case 9:l?this.advance(1):this.setState({waiting:!1});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code,n=Oa[t];void 0!==n&&this.selectAnswer(n)}},{key:"render",value:function(){var e=this,t=this.state,n=t.correctAnswer,a=t.currentConsonant,c=t.possibleAnswers,s=t.currentIndex,o=t.mistakes;if(null===a)return null;var i=c.map(function(t,a){return r.a.createElement(wa,{key:t,correctAnswer:n,mistakes:o,index:a,onSelect:function(){return e.selectAnswer(a)},possibleAnswer:t})}),l=r.a.createElement(Vn.CSSTransition,{key:s,timeout:500,classNames:"card"},r.a.createElement("div",null,r.a.createElement("h1",null,a.char),i));return r.a.createElement("div",{className:"drill"},r.a.createElement(Mn,Object.assign({},this.props,{title:"Instructions"}),r.a.createElement("p",null,"Use your arrow keys to select the correct pronunciation."),r.a.createElement("p",null,"You will advance automatically when you make the correct choice.")),r.a.createElement(Vn.TransitionGroup,{className:"container"},l))}}]),t}(a.PureComponent),Na=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeConfusion()}},{key:"componentWillUnmount",value:function(){this.props.clearSounds()}},{key:"render",value:function(){var e=this.props,t=e.confusions,n=e.visibleConfusion,a=e.showConfusionByIndex,c=e.confusionLoaded,s=e.match.params,o=void 0===s?{}:s;return 0===t.length?null:isNaN(o.visibleConfusion)?r.a.createElement("div",{className:"confusion"},r.a.createElement("h1",null,"Easily confused consonants"),r.a.createElement(ga,{confusions:t,visibleConfusion:n,showConfusionByIndex:a}),c?r.a.createElement(ya,this.props):null):r.a.createElement(ka,this.props)}}]),t}(a.Component),Ca=(n(232),n(233),Object(g.b)(function(e){var t=e.settings.pronunciationType,n=e.sounds,a=n.consonants,r=n.confusions,c=n.confusionLoaded,s=n.visibleConfusion,o=n.showConfusionByIndex;return{consonants:a,confusions:r,confusionLoaded:c,hintVisible:e.view.hintVisible,pronunciationType:t,visibleConfusion:s,showConfusionByIndex:o}},Wt)(Na)),xa=C(function(e,t){return 0===e.length||e.some(function(e){return e===t})?"highlighted":null},100),Aa=function(e){var t=e.character,n=e.highlight,a=e.highlightedCharacters,c=xa(a,t);return r.a.createElement("div",{className:c,onMouseOver:function(){return n(t)},onMouseOut:function(){return n(null)},key:t},t)};var Sa=function(e){var t=e.url,n=e.children;return r.a.createElement("a",{href:t,onClick:function(e){return function(e,t){e.preventDefault(),window.open(t,"external")}(e,t)}},n)},Ta=function(e,t,n){return e.map(function(e){return r.a.createElement(Aa,{key:e,character:e,highlight:t,highlightedCharacters:n})})},Va=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={highlightedCharacters:[]},n.highlight=n.highlight.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"highlight",value:function(e){var t,n;e?this.setState({highlightedCharacters:(t=this.props.confusions,n=e,D(t.filter(function(e){return e.some(function(e){return n===e})}).reduce(function(e,t){return[].concat(Object(w.a)(e),Object(w.a)(t))},[])))}):this.setState({highlightedCharacters:[]})}},{key:"render",value:function(){var e=this.props,t=e.low,n=e.mid,a=e.high,c=this.state.highlightedCharacters;return r.a.createElement("div",{className:"review"},r.a.createElement("h1",null,"Consonant classes"),r.a.createElement(Mn,Object.assign({},this.props,{title:"Notes"}),r.a.createElement("p",null,"Mouse over any character to highlight the other characters you might consider similar-looking."),r.a.createElement("p",null,"Practice mid- and high-class characters first, since there aren't many to remember. All other consonant will be, by definition, low."),r.a.createElement("p",null,"Drilling here is ",r.a.createElement("i",null,"graduated")," \u2014 that is, you will be tested on the first few of each class. More characters are added only after you have made no mistakes!"),r.a.createElement("p",null,"The consonants are listed and drilled in order of (tone-leading) frequency. The Thai alphabet closely follows ",r.a.createElement(Sa,{url:"https://en.wikipedia.org/wiki/Zipf's_law"},"Zipf's Law"),". So memorizing and mastering only the first few characters will be dramatically more helpful than memorizing only the last few!"),r.a.createElement("p",null,"Author's note: My personal sense is that mnemonics do not help with character classes. Tone rules are hard enough. They should feel as automatic as possible, which is why I have chosen graduated drilling here.")),r.a.createElement("section",null,r.a.createElement("h2",null,"High"),r.a.createElement("div",{className:"high"},Ta(a,this.highlight,c))),r.a.createElement("section",null,r.a.createElement("h2",null,"Mid"),r.a.createElement("div",{className:"mid"},Ta(n,this.highlight,c))),r.a.createElement("section",null,r.a.createElement("h2",null,"Low"),r.a.createElement("div",{className:"low"},Ta(t,this.highlight,c))),r.a.createElement(zt.a,{to:"/basics/tones/classes/drill/mid-high",className:"button"},"Drill (mid / high)"),r.a.createElement(zt.a,{to:"/basics/tones/classes/drill/all",className:"button"},"Drill (all)"))}}]),t}(a.Component),Pa=function(e){var t=e.label,n=void 0===t?"":t,a=e.max,c=e.value,s="".concat(100*Math.min(Math.max(0,c/a),1),"%");return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"bar",style:{width:s}}),r.a.createElement("div",{className:"label"},n))},La=M(1),Ia=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={busy:!1,correctItem:null,hiddenItems:[],index:0,stage:0,mistakesMade:!1,stageComplete:!1,queue:[]},n.onKey=n.onKey.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKey),this.reseed()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"reseed",value:function(){var e=this.props,t=e.low,n=e.high,a=e.mid,r=e.type,c=this.state,s=c.stage,o=c.queue,i=c.index,l=o[i],u=[a,n,"all"===r?t:[]].map(function(e){return e.slice(0,s+2)}).reduce(function(e,t){return[].concat(Object(w.a)(e),Object(w.a)(t))});s=i>=o.length-1?s+1:s;do{o=La(u)}while(o[0]===l);this.setState({busy:!1,correctItem:null,hiddenItems:[],index:0,mistakesMade:!1,queue:o,stage:s,stageComplete:!1})}},{key:"checkAnswer",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,c,s,o,l,u,p,d,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.low,r=n.mid,c=n.high,s=n.type,!this.state.busy){e.next=3;break}return e.abrupt("return");case 3:if(null!==(o=3===t&&"all"===s?a:2===t?r:1===t?c:null)){e.next=6;break}return e.abrupt("return");case 6:if(this.setState({busy:!0}),l=this.state,u=l.hiddenItems,p=l.index,d=l.mistakesMade,m=l.queue,!o.some(function(e){return e===m[p]})){e.next=25;break}return this.setState({correctItem:t}),e.next=12,x(1e3);case 12:if(p+=1,!d){e.next=17;break}return e.abrupt("return",this.reseed());case 17:if(!(p>=m.length)){e.next=22;break}return this.setState({stageComplete:!0}),e.next=21,x(500);case 21:return e.abrupt("return",this.reseed());case 22:this.setState({busy:!1,correctItem:null,hiddenItems:[],index:p,queue:m}),e.next=26;break;case 25:this.setState({busy:!1,correct:!1,mistakesMade:!0,hiddenItems:[].concat(Object(w.a)(u),[t])});case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code;"ArrowRight"===t?this.checkAnswer(2):"ArrowUp"===t?this.checkAnswer(1):"ArrowDown"===t&&this.checkAnswer(3)}},{key:"render",value:function(){var e=this,t=this.props.type,n=this.state,a=n.queue,c=n.index,s=n.hiddenItems,o=n.correctItem,i=n.mistakesMade,l=n.stage,u=n.stageComplete,p=["M","H","L"],d=[2,1,3],m=function(t){var n,a=o===d[t],c=s.some(function(e){return e===d[t]}),i=N((n={},Object(Et.a)(n,"answer-".concat(t+1),!0),Object(Et.a)(n,"correct",a),Object(Et.a)(n,"incorrect",c),n));return r.a.createElement("h3",{key:t,className:i,onClick:function(){return e.checkAnswer(d[t])}},p[t])},h=a[c],f=i?0:u?a.length:null!==o?c+1:c;return r.a.createElement("div",{className:"drill"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,h),m(0),m(1),"all"===t?m(2):null),r.a.createElement(Pa,{max:a.length,value:f,label:"Stage ".concat(l)}))}}]),t}(a.Component),Ma="\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05".split(""),Wa="\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f".split(""),Da="\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03".split(""),Ra=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeConsonants()}},{key:"render",value:function(){var e=this.props,t=e.confusions,n=e.match.params.type;return r.a.createElement("div",{className:"consonant-classes"},void 0===n?r.a.createElement(Va,Object.assign({},this.props,{low:Ma,mid:Wa,high:Da,confusions:t})):r.a.createElement(Ia,{type:n,low:Ma,high:Da,mid:Wa}))}}]),t}(a.Component),qa=(n(234),Object(g.b)(function(e){var t=e.sounds.confusions,n=e.tones.tonesmap;return{confusions:t,hintVisible:e.view.hintVisible,tonesmap:n}},Wt)(Ra)),Ka=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={label:""},n.changeLabel=n.changeLabel.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"changeLabel",value:function(e,t){this.setState({label:e}),this.props.onHover(e,t)}},{key:"render",value:function(){var e=this,t=this.state.label,n=function(){var e,t,n,a=[],r=1;do{var c=ht(r);e=c.last,t=c.label,n=c.className,a.push({stage:r,label:t,className:n}),r+=1}while(!e);return a}().map(function(t){var n=t.stage,a=t.label,c=t.className;return r.a.createElement(zt.a,{className:"button",key:n,onMouseOver:function(){return e.changeLabel(a,c)},onMouseOut:function(){return e.changeLabel("")},to:"/basics/tones/rules/drill/".concat(n)},n)});return r.a.createElement("div",{className:"drill-buttons"},r.a.createElement("h3",null,"Practice starting at stage:"),r.a.createElement("div",{className:"buttons"},n),r.a.createElement("h4",{className:"labels"},t))}}]),t}(a.PureComponent),Fa=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={focusedStage:null,className:null},n.changeFocus=n.changeFocus.bind(Object(Yt.a)(n)),n.buttons=[],n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"changeFocus",value:function(e,t){this.setState({focusedStage:e,className:t})}},{key:"render",value:function(){var e=this.state,t=e.focusedStage,n=e.className,a=null===t?null:N(Object(Et.a)({filtered:!!n},n,!!n));return r.a.createElement("div",{className:"review"},r.a.createElement("h1",null,"Tones"),r.a.createElement(Mn,Object.assign({},this.props,{title:"Hint"}),r.a.createElement("p",null,'Consider learning mid-class rules first. They make a great foundation! The other classes essentially "borrow" something from mid-class rules.'),r.a.createElement("p",null,"On the other hand, tone-leading low-class characters are more frequent than mid- and high-class characters (according to my studies: 42% vs. 35% & 23%.)")),r.a.createElement("h2",null,"Rules for syllables with no tone markers"),r.a.createElement("table",{className:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{colSpan:"3"},"Live"),r.a.createElement("th",{colSpan:"3"},"Dead")),r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{colSpan:"3"},"Open + Long / Closed with Sonorant"),r.a.createElement("th",null,"Open + short"),r.a.createElement("th",null,"Closed + short"),r.a.createElement("th",null,"Closed + long"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"high"},"High"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-9"},"R"),r.a.createElement("td",{colSpan:"3",className:"c-2 c-3 c-4 c-9"},"L")),r.a.createElement("tr",null,r.a.createElement("th",{className:"mid"},"Mid"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-8"}),r.a.createElement("td",{colSpan:"3",className:"c-2 c-3 c-4 c-8"},"L")),r.a.createElement("tr",null,r.a.createElement("th",{className:"low"},"Low"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-7"}),r.a.createElement("td",{colSpan:"2",className:"c-2 c-3 c-4 c-7"},"H"),r.a.createElement("td",{className:"c-3 c-4 c-7"},"F")))),r.a.createElement("h2",null,"Rules for syllables with tone markers"),r.a.createElement("table",{className:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"\u0e2d\u0e48"),r.a.createElement("th",null,"\u0e2d\u0e49"),r.a.createElement("th",null,"\u0e2d\u0e4a"),r.a.createElement("th",null,"\u0e2d\u0e4b")),r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Mai ek"),r.a.createElement("th",null,"Mai tho"),r.a.createElement("th",null,"Mai tri"),r.a.createElement("th",null,"Mai chattawa"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"high"},"High"),r.a.createElement("td",{className:"c-5 c-6 c-9"},"L"),r.a.createElement("td",{className:"c-5 c-6 c-9"},"F"),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab"))),r.a.createElement("tr",null,r.a.createElement("th",{className:"mid"},"Mid"),r.a.createElement("td",{className:"c-5 c-6 c-8"},"L"),r.a.createElement("td",{className:"c-5 c-6 c-8"},"F"),r.a.createElement("td",{className:"c-6 c-8"},"H"),r.a.createElement("td",{className:"c-6 c-8"},"R")),r.a.createElement("tr",null,r.a.createElement("th",{className:"low"},"Low"),r.a.createElement("td",{className:"c-5 c-6 c-7"},"F"),r.a.createElement("td",{className:"c-5 c-6 c-7"},"H"),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab"))))),r.a.createElement(Ka,{onHover:this.changeFocus}))}}]),t}(a.PureComponent),za=M(3),Ua=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var s=(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).props.stage;s=Math.max(1,s);var o=n.reseed(null,s),i=o.queue,l=o.label;return n.state={busy:!1,correctItem:null,hiddenItems:[],index:0,label:l,mistakeMake:!1,queue:i,stage:s},n.onKey=n.onKey.bind(Object(Yt.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"reseed",value:function(e,t){var n,a=ht(t,this.props.tonesmap),r=a.tones,c=a.label;do{n=za(r).map(function(e){return{item:e,word:e.examples[Math.floor(Math.random()*e.examples.length)],tone:mt(e)}})}while(e&&n.tone===e[e.length-1].tone);return{queue:n,label:c}}},{key:"componentDidMount",value:function(){this.props.initializeTones(),document.addEventListener("keydown",this.onKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"checkAnswer",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var n,a,r,c,s,o,l,u,p,d,m,h,f,v;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.busy){e.next=2;break}return e.abrupt("return");case 2:return n=this.state,a=n.queue,r=n.correctItem,c=n.hiddenItems,s=n.index,o=n.label,l=n.mistakeMake,u=n.stage,p=300,d=a[s],m=d.tone,h=d.word,t===m?(this.setState({busy:!0,correctItem:t}),Xe(Ke,{thai:h}),s+=1,c=[],r=null,p=1e3,l?(s=0,f=this.reseed(a,u),a=f.queue,o=f.label,l=!1):s>=a.length&&(s=0,u+=1,v=this.reseed(a,u),a=v.queue,o=v.label)):(c=[].concat(Object(w.a)(c),[t]),l=!0,this.setState({busy:!0,hiddenItems:c})),e.next=8,x(p);case 8:this.setState({busy:!1,correctItem:r,hiddenItems:c,index:s,label:o,mistakeMake:l,queue:a,stage:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code;"ArrowRight"===t?this.checkAnswer(6):"ArrowUp"===t?this.checkAnswer(7):"ArrowDown"===t?this.checkAnswer(8):"ArrowLeft"===t?this.checkAnswer(4):"Enter"!==t&&"Return"!==t&&"Space"!==t||this.checkAnswer(5)}},{key:"render",value:function(){var e=this,t=this.state,n=t.queue,a=t.index,c=t.hiddenItems,s=t.correctItem,o=t.label,i=t.mistakeMake,l=n[a].word,u=function(t,n,a){var o,i=N((o={},Object(Et.a)(o,"answer-".concat(t),!0),Object(Et.a)(o,"incorrect",c.some(function(e){return e===n})),Object(Et.a)(o,"correct",s===n),o));return r.a.createElement("h3",{className:i,onClick:function(){return e.checkAnswer(n)}},a)};return r.a.createElement("div",{className:"drill"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,l),u(0,4,"L"),u(1,6,"H"),u(2,7,"R"),u(3,8,"F"),u(4,5,"Neutral")),r.a.createElement(Pa,{max:n.length,value:i?0:a,label:o}))}}]),t}(a.PureComponent),Ba=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeTones()}},{key:"render",value:function(){var e=this.props,t=e.match.params.stage,n=e.tonesmap;return r.a.createElement("div",{className:"tone-rules"},void 0===t?r.a.createElement(Fa,this.props):null,t&&n.length?r.a.createElement(Ua,Object.assign({},this.props,{stage:parseInt(t,10)})):null)}}]),t}(a.Component),_a=(n(235),Object(g.b)(function(e){var t=e.tones.tonesmap;return{hintVisible:e.view.hintVisible,tonesmap:t}},Wt)(Ba)),Ha=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.trackRouteChange,a=t.location.pathname;a!==e.location.pathname&&n(a)}},{key:"render",value:function(){return null}}]),t}(a.Component),Ga=Object(g.b)(null,Wt)(Ha),Ja=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not found"),r.a.createElement(zt.a,{to:"/"},"Go to top page"))},Qa=(n(236),n(237),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,a,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.initializeWordsManager,a=t.initializeVoiceManager,r=t.initializeSettings,c=t.setApplicationReady,e.next=3,Promise.all([a(),n(),r()]).then(function(){return c()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.applicationReady?r.a.createElement(f.a,null,r.a.createElement(Kt,null,r.a.createElement(_t,null),r.a.createElement(v.a,{path:"*",component:Ga}),r.a.createElement(b.a,null,r.a.createElement(v.a,{path:"/",exact:!0,component:Ht}),r.a.createElement(v.a,{path:"/basics",exact:!0,component:Gt}),r.a.createElement(v.a,{path:"/basics/vowels",component:ua}),r.a.createElement(v.a,{path:"/basics/consonants",exact:!0,component:Jt}),r.a.createElement(v.a,{path:"/basics/consonants/confusion/drill-:visibleConfusion(\\d)",component:Ca}),r.a.createElement(v.a,{path:"/basics/consonants/review",component:ba}),r.a.createElement(v.a,{path:"/basics/consonants/confusion",component:Ca}),r.a.createElement(v.a,{path:"/basics/tones",exact:!0,component:Qt}),r.a.createElement(v.a,{path:"/basics/tones/classes",exact:!0,component:qa}),r.a.createElement(v.a,{path:"/basics/tones/classes/drill/:type(all|mid-high)",component:qa}),r.a.createElement(v.a,{path:"/basics/tones/rules",exact:!0,component:_a}),r.a.createElement(v.a,{path:"/basics/tones/rules/drill/:stage(\\d+)",component:_a}),r.a.createElement(v.a,{path:"/progress",component:ln}),r.a.createElement(v.a,{path:"/practice/:type?",component:Rn}),r.a.createElement(v.a,{path:"/test",exact:!0,component:zn}),r.a.createElement(v.a,{path:"/test/:type(overdue|current)",component:ca}),r.a.createElement(v.a,{path:"/settings",component:xn}),r.a.createElement(v.a,{component:Ja})))):r.a.createElement(Ft,null)}}]),t}(a.Component)),Xa=Object(g.b)(function(e){return{applicationReady:e.view.applicationReady}},Wt)(Qa),Ya=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Za(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(g.a,{store:Dt},r.a.createElement(Xa,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ya?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Za(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Za(e)})}}()}},[[132,1,2]]]);
//# sourceMappingURL=main.4ba5a096.chunk.js.map