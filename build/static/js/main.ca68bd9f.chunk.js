(this["webpackJsonpthai-trainer"]=this["webpackJsonpthai-trainer"]||[]).push([[0],{106:function(e,t,n){},119:function(e,t,n){e.exports=n(209)},139:function(e,t,n){},140:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),s=n(1),i=n.n(s),l=n(5),u=n(6),p=n(7),d=n(8),m=n(9),h=n(10),f=n(37),v=n(13),b=n(3),g=n(4),y=n(26),w=n(108),E=n(109),O=n.n(E),j=function(e){return Object.keys(e).reduce((function(t,n){return e[n]?[].concat(Object(g.a)(t),[n]):t}),[]).join(" ")},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[];return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var o=n.find((function(e){var t=e.args;return t.length===r.length&&t.every((function(e,t){return e===r[t]}))}));if(o)return o.results;var s=e.apply(void 0,r);return n=[{args:r,results:s}].concat(Object(g.a)(n.slice(0,t-1))),s}},N=function(e){return new Promise((function(t){return setTimeout(t,e)}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-Number.MAX_VALUE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function(n){return n<e?e:n>t?t:n}},C=(Function.prototype.call.bind(Array.prototype.slice),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=6e4*e.getTimezoneOffset(),n=e.getTime()-t;return Math.floor((n-144e5)/864e5)}),A=/[^\u0e01\u0e02\u0e03\u0e04\u0e05\u0e06\u0e07\u0e08\u0e09\u0e0a\u0e0b\u0e0c\u0e0d\u0e0e\u0e0f\u0e10\u0e11\u0e12\u0e13\u0e14\u0e15\u0e16\u0e17\u0e18\u0e19\u0e1a\u0e1b\u0e1c\u0e1d\u0e1e\u0e1f\u0e20\u0e21\u0e22\u0e23\u0e24\u0e25\u0e26\u0e27\u0e28\u0e29\u0e2a\u0e2b\u0e2c\u0e2d\u0e2e\u0e2f\u0e30\u0e32\u0e33\u0e40\u0e41\u0e42\u0e43\u0e44\u0e45\u0e46\u0e4f\u0e50\u0e51\u0e52\u0e53\u0e54\u0e55\u0e56\u0e57\u0e58\u0e59\u0e5a\u0e5ba-z ]/,S=function(e){return e.replace(A,"")},T=function(e,t,n){var a=S(e[t]);return n.filter((function(n){return n[t]!==e[t]})).map((function(e){return{word:e,similarity:O.a.get(a,S(e[t]))}})).sort((function(e,t){return e.similarity>t.similarity?1:-1})).map((function(e){return e.word})).filter((function(e,n,a){return a.findIndex((function(n){return e[t]===n[t]}))===n}))},P=function(e){for(var t,n,a=(e=e.slice()).length;a>0;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},V=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},L=function(e){return function(t){for(var n,a,r=[],c=t.length,o=0;o<e;o++){if(n=r.slice(-c),c<3)a=[].concat(t);else do{a=P(t)}while(a[0]===n[c-1]||o===e-1&&r[0]===a[c-1]||V(n,a));r=[].concat(r,a)}return r}};var I,M=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},W=function(e,t){var n=M(e);return function(e){var a=P(n.filter((function(t){return t!==e})));return a.splice(Math.floor(Math.random()*t),0,e),a.slice(0,t)}},D=n(21),R=n(32),q=n.n(R),K=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/allwords.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/vowels.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/consonants.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.getItem("progress");case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.setItem("progress",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.removeItem("progress");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.getItem("voiceSettings");case 2:return t=e.sent,a=(n=t||{}).englishVoiceName,r=void 0===a?null:a,c=n.thaiVoiceName,o=void 0===c?null:c,s=n.rate,l=void 0===s?1:s,e.abrupt("return",{englishVoiceName:r,thaiVoiceName:o,rate:l});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.setItem("voiceSettings",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.getItem("settings");case 2:return t=e.sent,a=(n=t||{}).pronunciationType,r=n.practiceWordLimit,c=n.testingWordLimit,o=n.practiceOrder,s=n.practiceAllAtOnce,l=n.showCharacterClasses,e.abrupt("return",{pronunciationType:a,practiceWordLimit:r,testingWordLimit:c,practiceOrder:o,practiceAllAtOnce:s,showCharacterClasses:l});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.getItem("settings");case 2:return n=e.sent,e.next=5,q.a.setItem("settings",Object(b.a)({},n,{},t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/data/tones.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){var t=Object(D.a)(e,6),n=t[0],a=t[1],r=t[2],c=t[3],o=t[4],s=t[5];return{id:n,term:a,thai:r,ipa:c,paiboon:o,altThai:void 0===s?null:s}},Z=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:return t=e.sent,e.abrupt("return",t.map(Y));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=[{sleep:0},{sleep:1},{sleep:3},{sleep:7},{sleep:13},{sleep:Number.MAX_SAFE_INTEGER}],ee=x(0,5),te=function(e,t){var n=x(e,t);return function(e,t,a){if(t<e.length){var r=e[t];return r=n(r+a),[].concat(Object(g.a)(e.slice(0,t)),[r],Object(g.a)(e.slice(t+1)))}return e}}(0,5),ne=(I=$,function(e,t){return e+I[ee(Math.min.apply(Math,Object(g.a)(t)))].sleep}),ae=function(e){var t=Object(D.a)(e,4);return{id:t[0],date:t[1],dueDate:t[2],aspectScores:t[3]}},re=function(e){var t=e.date,n=e.dueDate,a=e.aspectScores;return void 0!==t&&void 0!==n&&void 0!==a},ce=function(e){return[e.id,e.date,e.dueDate,e.aspectScores]},oe=function(e){return e.filter(re).map(ce)};function se(){return ie.apply(this,arguments)}function ie(){return(ie=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([U(),Z()]);case 2:return t=e.sent,n=Object(D.a)(t,2),a=n[0],r=n[1],c=a.map(ae),e.abrupt("return",r.map((function(e){var t=c.find((function(t){return t.id===e.id}));return t?Object(b.a)({},t,{},e):e})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return e.map((function(e){return Object(b.a)({},e,{aspectScores:void 0,date:void 0,dueDate:void 0})}))}function ue(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe(t),e.next=3,B(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t,n){return n=C(n||new Date),t.map((function(t){var a=t.id,r=t.aspectScores;e.filter((function(e){return e.id===a})).forEach((function(e){var t=e.aspect,n=e.score;return r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return te(e,t,n?1:-1)}(r,t,n>0)}));var c=ne(n,r);return Object(b.a)({},t,{aspectScores:r,date:n,dueDate:c})}))}function me(e,t){return e.filter((function(e){var n=e.dueDate,a=e.aspectScores;return n<=t&&Math.min.apply(Math,Object(g.a)(a))>0&&Math.min.apply(Math,Object(g.a)(a))<=4})).sort((function(e,t){if(e.dueDate!==t.dueDate)return e.dueDate>t.dueDate?1:-1;var n=Math.min.apply(Math,Object(g.a)(e.aspectScores)),a=Math.min.apply(Math,Object(g.a)(t.aspectScores));return n!==a?n<a?1:-1:e.date!==t.date?e.date>t.date?1:-1:e.id>t.id?1:-1}))}function he(e){return e.filter(re).filter((function(e){var t=e.aspectScores;return 0===Math.min.apply(Math,Object(g.a)(t))}))}function fe(e,t,n){var a=e.filter((function(e){var t=e.aspectScores,n=void 0===t?null:t;return null!==n&&0===Math.min.apply(Math,Object(g.a)(n))})),r=e.filter((function(e){var t=e.aspectScores;return null===(void 0===t?null:t)})).map((function(e){return Object(b.a)({},e,{date:n,dueDate:n,aspectScores:[0,0]})}));return[].concat(Object(g.a)(a),Object(g.a)(r)).slice(0,t)}function ve(e,t){var n=e.dueDate,a=e.aspectScores;return a?0===Math.min.apply(Math,Object(g.a)(a))?1:Math.min.apply(Math,Object(g.a)(a))>=5?4:n<=t?2:3:0}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){return{word:e,status:ve(e,t)}})).filter((function(e){var t=e.status;return n.includes(t)})).map((function(e){return e.word}))}function ge(e,t){return e.map((function(e){return t.find((function(t){return t.id===e.id}))||e}))}var ye,we,Ee={pronunciationType:"IPA",practiceWordLimit:15,testingWordLimit:20,practiceOrder:["thai","pronunciation","term"],practiceAllAtOnce:!1,showCharacterClasses:!0,resetProgressVisible:!1},Oe={changePracticeDisplayOrder:function(e){var t=e.practiceOrder,n=e.practiceAllAtOnce;return function(e){t?(e({type:"settings/setpracticedisplayorder",payload:{practiceOrder:t}}),Q({practiceOrder:t})):(e({type:"settings/toggleallatonce",payload:{practiceAllAtOnce:n}}),Q({practiceAllAtOnce:n}))}},changePronunciationType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:"settings/setpronunciationtype",payload:e}),Q({pronunciationType:e})}},changePracticeWordLimit:function(e){return function(t){t({type:"settings/setpracticelimit",payload:{practiceWordLimit:e}}),Q({practiceWordLimit:e})}},changeTestingWordLimit:function(e){return function(t){t({type:"settings/settestlimit",payload:{testingWordLimit:e}}),Q({testingWordLimit:e})}},initializeSettings:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l,u,p,d,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:n=e.sent,a=n.practiceWordLimit,r=void 0===a?Ee.practiceWordLimit:a,c=n.pronunciationType,o=void 0===c?Ee.pronunciationType:c,s=n.practiceAllAtOnce,l=void 0===s?Ee.practiceAllAtOnce:s,u=n.practiceOrder,p=void 0===u?Ee.practiceOrder:u,d=n.showCharacterClasses,m=void 0===d?Ee.showCharacterClasses:d,h=n.testingWordLimit,t({type:"settings/initialize",payload:{practiceWordLimit:r,practiceAllAtOnce:l,practiceOrder:p,pronunciationType:o,showCharacterClasses:m,testingWordLimit:void 0===h?Ee.testingWordLimit:h}});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},toggleCharacterClasses:function(){return function(e,t){var n=!1===t().settings.showCharacterClasses;e({type:"settings/togglecharacterclasses",payload:{showCharacterClasses:n}}),Q({showCharacterClasses:n})}},toggleResetProgress:function(){return function(e,t){e({type:"settings/toggleresetprogress",payload:{resetProgressVisible:!1===t().settings.resetProgressVisible}})}},resetProgress:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t({type:"settings/resetprogress",payload:{resetProgressVisible:!1}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},je=(ye="id",function(e,t){return e.concat(t).reduce((function(e,t,n,a){var r=t[ye],c=a.findIndex((function(e){return e[ye]===r}));return c!==n?[].concat(Object(g.a)(e.slice(0,c)),[t],Object(g.a)(e.slice(c+1))):[].concat(Object(g.a)(e),[t])}),[])}),ke=L(2),Ne={testWords:[],queue:[],scores:[],type:null,stage:null,isComplete:!1,isSaved:!1,index:null},xe={clearTest:function(){return function(e){e({type:"test/clearall"})}},getCurrentWords:function(e){return function(t){var n=he(e);return t({type:"test/settesetwords",payload:{testWords:n,queue:ke(n)}}),n.length>0}},getOverdueWords:function(e){return function(t){var n=me(e,C(new Date));return t({type:"test/settesetwords",payload:{testWords:n,queue:ke(n)}}),n.length>0}},setTestType:function(e){return function(t,n){var a=n(),r=a.words.words,c=a.settings.testingWordLimit,o=(1===e?he(r):me(r,C())).slice(0,c),s=ke(o),i=new Array(s.length).fill(0);return t({type:"test/settesttype",payload:{type:e,testWords:o,queue:s,stage:0,index:0,scores:i}}),s.length>0}},startCustomTest:function(e){return function(t){var n=e.filter((function(e,t,n){return n.indexOf(e)===t})),a=ke(n);t({type:"test/settesttype",payload:{type:1,testWords:n,queue:a,stage:0,index:0,scores:new Array(a.length).fill(0)}})}},submitAnswer:function(e){return function(t,n){var a=n().test,r=a.index,c=a.queue,o=a.scores,s=a.stage,i=a.testWords,l=null===e?0:e?1:-1;o=[].concat(Object(g.a)(o.slice(0,r)),[{id:c[r].id,score:l,aspect:s}],Object(g.a)(o.slice(r+1))),r+=1,s=Math.floor(r/i.length),r<o.length?t({type:"test/acceptanswer",payload:{scores:o,index:r,stage:s}}):t({type:"test/completetest",payload:{scores:o}})}},saveTest:function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n,a){var r,c,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(),c=r.words.words,o=r.test.testWords,s=de(e,o),c=je(c,s),t.next=5,ue(c);case 5:n({type:"test/saved",payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},Ce=L(5),Ae={currentIndex:0,currentStage:0,queue:[],words:[]},Se={initializeWordsManager:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:n=e.sent,t({type:"words/setwords",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},seedPractice:function(e,t){return function(n){return n({type:"words/reseed",payload:{words:e,limit:t}})}},advancePractice:function(e){return function(t){return t({type:"words/advance",payload:e})}},nudgePractice:function(){return function(e,t){return e({type:t().settings.shouldJustAdvance?"words/advance":"words/nudge"})}},advanceSound:function(e){return function(t){return t({type:"words/advancesound",payload:e})}},nudgeSound:function(){return function(e){return e({type:"words/nudgesound"})}},closePractice:function(){return function(e){return e({type:"words/closepractice"})}},registerPracticeEnd:function(e,t){return function(n){return n({type:"words/registerpracticeend",payload:{type:e,count:t}})}}},Te={applicationReady:!1,currentView:null,hintVisible:!1,subview:null,previewFilter:[1,2,3]},Pe={changeSubview:function(e){return function(t){return t({type:"view/changesubview",payload:e})}},setApplicationReady:function(){return function(e){return e({type:"view_applicationready"})}},toggleHint:function(){return function(e){return e({type:"view/togglehint"})}},togglePreviewFilterStatus:function(e){return function(t){return t({type:"view_changepreviewfilter",payload:e})}}},Ve=n(110),Le=n(12),Ie=n.n(Le),Me="voices/languagethai",We=[],De=null,Re=null,qe=[],Ke=null,Fe=null,ze=1,Ue=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ke?Ke.name:null,n=De?De.name:null,e.next=4,G({englishVoiceName:t,thaiVoiceName:n,rate:ze});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(e,t){return e.find((function(e){var n=e.name;return t===n}))},_e=function(e){var t=e.name;De=Be(We,t)||De,Ue()},He=function(e){var t=e.name;Ke=Be(qe,t)||Ke,Ue()},Ge=function(e){ze=e,Ue()},Je=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise((function(a){n&&speechSynthesis.cancel();var r=new SpeechSynthesisUtterance;"voices/languageenglish"===e?(r.lang=Ke.lang,r.voice=Ke,r.rate=1,r.text=t.term):(r.lang=De.lang,r.voice=De,r.rate=ze,r.text=t.thai||t.altThai),r.onend=a,speechSynthesis.speak(r)}))},Qe=(Ie.a.shape({lang:Ie.a.string.isRequired,name:Ie.a.string.isRequired}),function(e){return"ipa"===e||"paiboon"===e}),Xe=function(){return{thaiVoices:We,englishVoices:qe,thaiVoice:De,englishVoice:Ke,rate:ze}},Ye={thaiVoice:null,thaiVoices:[],englishVoice:null,englishVoices:[],rate:1},Ze={initializeVoiceManager:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,r=(a=n||{}).englishVoiceName,Fe=void 0===r?null:r,c=a.thaiVoiceName,Re=void 0===c?null:c,o=a.rate,ze=void 0===o?ze:o,s=function(){var e=/^en/i,n=/^th/i,a=speechSynthesis.getVoices();We=a.filter((function(e){var t=e.lang;return n.test(t)})),qe=a.filter((function(t){var n=t.lang;return e.test(n)})),Ke=qe.find((function(e){return e.name===Fe}))||qe[0],Fe=Ke?Ke.name:null,De=qe.find((function(e){return e.name===Re}))||We[0],Re=De?De.name:null,t()},speechSynthesis.getVoices().length?s():speechSynthesis.onvoiceschanged=s;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:t({type:"voice/setvoices",payload:Xe()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setEnglishVoice:function(e){return function(t){return t({type:"voice/setEnglishVoice",payload:e})}},setThaiVoice:function(e){return function(t){return t({type:"voice/setThaiVoice",payload:e})}},setRate:function(e){return function(t){return t({type:"voice/setRate",payload:e})}}},$e={vowelsLoaded:!1,visibleVowel:null,vowels:[],consonantsLoaded:!1,confusionLoaded:!1,consonants:{},confusions:[],consonantKeys:{},visibleConsonantKey:null,visibleConfusion:null},et=function(e){return function(t){return function(n,a){var r=a().sounds.vowels,c=r.map((function(e){return e.vowel})).indexOf(t.vowel);n({type:"sounds_showvowel",payload:r[(c+r.length+e)%r.length]})}}},tt=et(1),nt=et(-1),at=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,n=t.confusions,a=t.consonants,r=t.keys,c=Object.keys(r),n=n.map((function(e){return e.split("")})),o=Object.keys(a).reduce((function(e,t){var n=Object(D.a)(a[t],2),o=n[0],s=n[1],i=c.find((function(e){var t=Object(D.a)(r[e],2),n=t[0],a=t[1];return(n===o||null===n)&&(a===s||null===a)}))||"Other";return e[i]||(e[i]=[]),e[i].push(t),e}),{}),e.abrupt("return",{confusions:n,consonants:a,consonantKeys:o});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt={initializeVowels:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:n=e.sent,t({type:"sounds/loadvowels",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearSounds:function(){return function(e){e({type:"sounds/clearsounds"})}},showVowel:function(e){return function(t){return t({type:"sounds_showvowel",payload:e})}},showNextVowel:tt,showPrevVowel:nt,initializeConsonants:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:n=e.sent,t({type:"sounds/loadconsonants",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},showConsonantsByKey:function(e){return function(t){return t({type:"sounds/showconsonantsbykey",payload:e})}},showConfusionByIndex:function(e){return function(t){return t({type:"sounds/showconfusionbyindex",payload:e})}},initializeConfusion:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:n=e.sent,t({type:"sounds/loadconfusion",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ct=/[\u0E31\u0E34-\u0E3A\u0E47-\u0E4E]/,ot=new RegExp("^([".concat("\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05","]?)([").concat("\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f","]?)([").concat("\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03","]?)"),"u"),st=(new RegExp("[".concat("\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05","]"),"u"),new RegExp("[".concat("\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f","]"),"u")),it=new RegExp("[".concat("\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03","]"),"u"),lt=function(e,t){if(ct.test(t)){var n=e.pop(),a=Object(D.a)(n,2),r=a[0],c=void 0===r?"":r,o=a[1];return[].concat(Object(g.a)(e),[[c+t,o]])}var s=ot.exec(t),i=Object(D.a)(s,4),l=i[1],u=i[2],p=i[3],d=l?3:u?2:p?1:null;return[].concat(Object(g.a)(e),d?[[t,d]]:[[t]])},ut=k((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("").reduce(lt,[])}),100),pt=function(e){var t,n=e.character,a=e.cls,r=e.length,c=e.ending,o=e.marker;if(1===a||(t=n,it.test(t))){if(13===o)return 4;if(14===o)return 8;if(10===c||null===c&&11===r)return 7;if(9===c||null===c&&12===r)return 4}else if(2===a||function(e){return st.test(e)}(n)){if(13===o)return 4;if(14===o)return 8;if(15===o)return 6;if(16===o)return 7;if(9===c||null===c&&12===r)return 4}else{if(13===o)return 8;if(14===o)return 6;if(null===c&&12===r)return 6;if(9===c)return 12===r?6:8}return 5},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;return(e-=1)<=n++?{tones:t.filter((function(e){var t=e.length,n=e.ending;return!e.marker&&(10===n||11===t&&!n)})),label:"Stage ".concat(n,": Only live (no markers)"),className:"c-1"}:e===n++?{tones:t.filter((function(e){var t=e.length,n=e.ending;return!e.marker&&12===t&&10!==n})),label:"Stage ".concat(n,": Only dead & short (no markers)"),className:"c-2"}:e===n++?{tones:t.filter((function(e){var t=e.length,n=e.ending;return!e.marker&&(10===n||12===t)})),label:"Stage ".concat(n,": All live & all short (no markers)"),className:"c-3"}:e===n++?{tones:t.filter((function(e){return!e.marker})),label:"Stage ".concat(n,": All live & dead (no markers)"),className:"c-4"}:e===n++?{tones:t.filter((function(e){var t=e.marker;return 13===t||14===t})),label:"Stage ".concat(n,": Only mai ek & mai tho markers"),className:"c-5"}:e===n++?{tones:t.filter((function(e){return!!e.marker})),label:"Stage ".concat(n,": All markers only"),className:"c-6"}:e===n++?{tones:t.filter((function(e){return 3===e.cls})),label:"Stage ".concat(n,": Only low-class"),className:"c-7"}:e===n++?{tones:t.filter((function(e){return 2===e.cls})),label:"Stage ".concat(n,": Only mid-class"),className:"c-8"}:e===n++?{tones:t.filter((function(e){return 1===e.cls})),label:"Stage ".concat(n,": Only high-class"),className:"c-9"}:{tones:Object(g.a)(t),label:"Everything",last:!0}},mt={tonesmap:[]},ht={low:3,mid:2,high:1},ft={long:11,short:12},vt={stop:9,sonorant:10},bt={ek:13,tho:14,tri:15,chattawa:16},gt={initializeTones:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=(n=e.sent).map((function(e){var t=e.cls,n=e.length,a=e.ending,r=e.marker,c=e.examples;return{cls:t=ht[t]||null,length:n=ft[n]||null,ending:a=vt[a]||null,marker:r=bt[r]||null,examples:c}})),t({type:"tones/initialize",payload:{tonesmap:n}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},yt=n(15),wt=n(111),Et=n(23),Ot=n.n(Et),jt=n(67),kt=n.n(jt),Nt=function(e){var t=e.scores,n=t.reduce((function(e,t){var n=t.score;return e[3*t.aspect+n+1]+=1,e}),[0,0,0,0,0,0,0,0,0]);return"Test complete totals: ".concat(t.length,", a: ").concat(n.slice(0,3).join(","),", b: ").concat(n.slice(3,6).join(","),", c: ").concat(n.slice(6,9).join(","))},xt=function(e){var t=e.type,n=e.testWords;return"Start test type: ".concat(t,", words ").concat(n.length)},Ct=(we={},Object(yt.a)(we,"tracking/trackroutechange",Object(Et.trackPageView)((function(e){return{location:e.payload}}))),Object(yt.a)(we,"tracking/startprocess",Object(Et.trackEvent)((function(e){var t=e.category,n=e.name;return{action:"startprocess",category:t,label:"Start process: ".concat(t,":").concat(n)}}))),Object(yt.a)(we,"settings/initialize",Object(Et.trackEvent)((function(){return{action:"initializesettings",category:"Load",label:"Load application"}}))),Object(yt.a)(we,"voice/setvoices",Object(Et.trackEvent)((function(e){return{action:"setvoices",category:"Load",label:"Available voices: Thai: ".concat(e.payload.thaiVoices.length,", English: ").concat(e.payload.englishVoices.length)}}))),Object(yt.a)(we,"settings/setpronunciationtype",Object(Et.trackEvent)((function(e){return{action:"changepronuncation",category:"Settings",label:e.payload}}))),Object(yt.a)(we,"settings/setpracticelimit",kt()(1e3,Object(Et.trackEvent)((function(e){return{action:"setpracticewordlimit",category:"Settings",label:"Set practice limit ".concat(e.payload.practiceWordLimit)}})))),Object(yt.a)(we,"settings/settestlimit",kt()(1e3,Object(Et.trackEvent)((function(e){return{action:"settestwordlimit",category:"Settings",label:"Set test limit ".concat(e.payload.testingWordLimit)}})))),Object(yt.a)(we,"settings/setpracticedisplayorder",kt()(1e3,Object(Et.trackEvent)((function(e){return{action:"setpracticedisplayorder",category:"Settings",label:e.payload.practiceOrder.join(", ")}})))),Object(yt.a)(we,"voice/setThaiVoice",Object(Et.trackEvent)((function(e){return{action:"changethaivoice",category:"Voice",label:"Set Thai voice: ".concat(e.payload.name)}}))),Object(yt.a)(we,"voice/setEnglishVoice",Object(Et.trackEvent)((function(e){return{action:"changeenglishvoice",category:"Voice",label:"Set English voice: ".concat(e.payload.name)}}))),Object(yt.a)(we,"words/registerpracticeend",Object(Et.trackEvent)((function(e){return{action:"endpractice",category:"Practice",label:"End ".concat(e.payload.type," practice: ").concat(e.payload.count)}}))),Object(yt.a)(we,"test/settesttype",Object(Et.trackEvent)((function(e){return{action:"starttest",category:"Test",label:xt(e.payload)}}))),Object(yt.a)(we,"test/completetest",Object(Et.trackEvent)((function(e){return{action:"completetest",category:"Test",label:Nt(e.payload)}}))),we),At=Object(wt.createMiddleware)(Ct,Ot()("UA-124762758-1"),{}),St={trackRouteChange:function(e){return function(t){return t({type:"tracking/trackroutechange",payload:e})}},trackStartPracticeType:function(e){return function(t){return t({type:"tracking/startprocess",payload:{category:"Practice",name:e}})}}},Tt=Object(y.c)({view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("view/changesubview"===n)return Object(b.a)({},e,{subview:a});if("words/closepractice"===n)return Object(b.a)({},e,{subview:null});if("view_changepreviewfilter"===n){var r=e.previewFilter.filter((function(e){return e!==a}));return r.length===e.previewFilter.length&&r.push(a),Object(b.a)({},e,{previewFilter:r})}return"view/togglehint"===n?Object(b.a)({},e,{hintVisible:!e.hintVisible}):"view_applicationready"===n?Object(b.a)({},e,{applicationReady:!0}):e},voice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;if("voice/setvoices"===t.type){var n=t.payload,a=n.thaiVoices,r=n.englishVoices,c=n.thaiVoice,o=n.englishVoice,s=n.rate;return Object(b.a)({},e,{thaiVoices:a,thaiVoice:c,englishVoices:r,englishVoice:o,rate:s})}if("voice/setEnglishVoice"===t.type){He(t.payload);var i=Xe(),l=i.englishVoice;return Je("voices/languageenglish",{term:"I'll be your English voice"}),Object(b.a)({},e,{englishVoice:l})}if("voice/setThaiVoice"===t.type){_e(t.payload);var u=Xe(),p=u.thaiVoice;return Je(Me,{thai:"\u0e09\u0e31\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e41\u0e19\u0e30\u0e19\u0e33\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),Object(b.a)({},e,{thaiVoice:p})}if("voice/setRate"===t.type){Ge(t.payload);var d=Xe(),m=d.rate;return Je(Me,{thai:"\u0e09\u0e31\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e41\u0e19\u0e30\u0e19\u0e33\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),Object(b.a)({},e,{rate:m})}return e},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"settings/initialize":case"settings/setpracticelimit":case"settings/settestlimit":case"settings/setpracticedisplayorder":case"settings/toggleallatonce":case"settings/togglecharacterclasses":case"settings/toggleresetprogress":case"settings/resetprogress":return Object(b.a)({},e,{},a);case"settings/setpronunciationtype":return Object(b.a)({},e,{pronunciationType:"IPA"===a?"IPA":"Paiboon"});default:return e}},words:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("words/advance"===n){var r=-1===a?-1:1,c=e.queue.length,o=(e.currentIndex+c+r)%c;return Object(b.a)({},e,{currentIndex:o,currentStage:0})}if("words/nudge"===n){if(e.currentStage<2)return Object(b.a)({},e,{currentStage:e.currentStage+1});var s=e.queue.length,i=(e.currentIndex+s+1)%s;return Object(b.a)({},e,{currentIndex:i,currentStage:0})}if("words/nudgesound"===n){if(0===e.currentStage)return Object(b.a)({},e,{currentStage:1});var l=e.queue.length;return Object(b.a)({},e,{currentIndex:(e.currentIndex+1+l)%l,currentStage:0})}if("words/advancesound"===n){var u=e.queue.length;return-1===a?Object(b.a)({},e,{currentIndex:(e.currentIndex+u-1)%u,currentStage:0}):Object(b.a)({},e,{currentIndex:(e.currentIndex+u+1)%u,currentStage:0})}if("words/reseed"===n){var p=a.words,d=a.limit,m=fe(p,d,C());ue(p=ge(p,m));var h=Ce(m);return Object(b.a)({},e,{words:p,queue:h,currentIndex:0})}if("settings/resetprogress"===n){var f=le(e.words);return Object(b.a)({},e,{words:f,queue:[],currentIndex:0})}return"words/closepractice"===n?Object(b.a)({},e,{queue:[],currentIndex:0}):"words/setwords"===n||"test/saved"===n?Object(b.a)({},e,{words:a}):e},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"test/acceptanswer"===n?Object(b.a)({},e,{},a):"test/settesetwords"===n?Object(b.a)({},e,{},a,{stage:0,index:0}):"test/settesttype"===n?Object(b.a)({},e,{},a):"test/completetest"===n?Object(b.a)({},e,{},a,{isComplete:!0}):"test/saved"===n?Object(b.a)({},e,{isSaved:!0}):"test/clearall"===n?Object(b.a)({},e,{},Ne):e},sounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("sounds/loadvowels"===n&&!1===e.vowelsLoaded){var r=a.map((function(e){var t=e.vowel,n=e.examples,a=e.pronunciation,r=Object(D.a)(a,2);return{vowel:t,examples:n,ipa:r[0],paiboon:r[1]}})).filter((function(e){return e.examples.length>0}));return Object(b.a)({},e,{vowels:r,vowelsLoaded:!0,visibleVowel:null})}if("sounds/clearsounds"===n)return Object(b.a)({},e,{},$e);if("sounds/loadconsonants"===n&&!1===e.consonantsLoaded){var c=a.confusions,o=a.consonants,s=a.consonantKeys;return Object(b.a)({},e,{consonants:o,confusions:c,consonantKeys:s,consonantsLoaded:!0,visibleConsonantKey:null})}if("sounds/loadconfusion"===n&&!1===e.confusionLoaded){var i=a.confusions,l=a.consonants,u=a.consonantKeys;return Object(b.a)({},e,{consonants:l,confusions:i,consonantKeys:u,confusionLoaded:!0,visibleConfusion:0})}return"sounds_showvowel"===n?Object(b.a)({},e,{visibleVowel:a}):"sounds/showconsonantsbykey"===n?Object(b.a)({},e,{visibleConsonantKey:a}):"sounds/showconfusionbyindex"===n?Object(b.a)({},e,{visibleConfusion:a}):e},tones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"tones/initialize":return Object(b.a)({},e,{},a);default:return e}}}),Pt=[At,w.a],Vt=y.d.apply(void 0,[y.a.apply(void 0,Pt)].concat(Object(g.a)([]))),Lt=Object(y.e)(Tt,Vt),It=Object(b.a)({},Pe,{},Ze,{},Oe,{},Se,{},xe,{},rt,{},gt,{},St),Mt=Lt,Wt=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(a.Component),Dt=Object(f.f)(Wt),Rt=function(){return r.a.createElement("div",null,"Loading...")},qt=function(e){return{"/":"Home","/basics":"Basics","/basics/vowels":"Vowels","/basics/consonants":"Consonants","/basics/consonants/review":"Review","/basics/consonants/confusion":"Easily confused consonants","/basics/tones":"Tones","/basics/tones/classes":"Consonant classes","/basics/tones/rules":"Tone rules","/practice":"Practice","/practice/full":"Full","/practice/sounds-only":"Sounds Only","/test":"Test","/test/overdue":"Scheduled words","/test/current":"Practice words","/progress":"Progress","/settings":"Settings"}[e]||null},Kt=function e(t){var n=t.location.pathname,c=t.match,o=qt(c.url);return r.a.createElement(a.Fragment,null,r.a.createElement("li",{className:c.isExact?"breadcrumb-active":void 0},"\u27eb ",n===c.url?r.a.createElement("span",null,o):r.a.createElement(h.b,{to:c.url||""},o)),r.a.createElement(f.a,{path:"".concat(c.url,"/:path"),component:e}))},Ft=Object(f.f)((function(e){var t=e.location.pathname;return"/"!==t&&qt(t)?r.a.createElement("div",{className:"breadcrumbs"},r.a.createElement("ul",{className:"container"},r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home")),r.a.createElement(f.a,{path:"/:path",component:Kt}))):null})),zt=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Read Thai"),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics"},"The basics")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/practice"},"Practice words")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/test"},"Test words")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/progress"},"View progress")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/settings"},"Settings")))},Ut=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Basics"),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/vowels"},"Thai vowels")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/consonants"},"Thai consonants")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/tones"},"Thai tones")))},Bt=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Consonants"),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/consonants/review"},"Review consonants")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/consonants/confusion"},"Easily confused consonants")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/tones/classes"},"Consonant classes")))},_t=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Thai Tones"),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/tones/classes"},"Consonant classes")),r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/basics/tones/rules"},"Tone rules")))},Ht=function(e){var t=e.children,n=e.onClick,a=e.selected;return r.a.createElement("div",{onClick:n,className:"toggle-header ".concat(a?"selected":"")},t)},Gt=n(16),Jt=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).play=e.play.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"play",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.target.blur(),n=this.props.word,e.next=5,Je(Me,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.play},"\u25b7")}}]),n}(a.Component),Qt=n(113),Xt=function(e){var t=e.progress;return r.a.createElement("div",{className:"progress-meter"},r.a.createElement(Qt.a,{percentage:100*t,strokeWidth:30,styles:{background:{fill:"#3e98c7"},path:{stroke:t<1?"#8bc34a":"gold"},trail:{stroke:"#eee"}}}))},Yt=function(e){var t=e.word,n=e.pronunciationType,a=e.showProgress,c=t.term,o=t.thai,s=t.ipa,i=t.paiboon,l=t.aspectScores,u=void 0===l?[0,0]:l;return r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,r.a.createElement(Jt,{word:t})," ",function(e,t,n){return"IPA"===n?e:t}(s,i,n)),a?r.a.createElement("td",{className:"progress-icons"},r.a.createElement(Xt,{progress:Math.min.apply(Math,Object(g.a)(u))/5})):null)},Zt=function(e){var t=e.pronunciationType,n=e.showProgress,a=e.visibleWords.map((function(e){return r.a.createElement(Yt,{word:e,key:e.id,pronunciationType:t,showProgress:n})})),c=n?"words-table":"words-table no-progress";return r.a.createElement("div",{className:c},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Term"),r.a.createElement("th",null,"Thai"),r.a.createElement("th",null,"Pronunciation"),n?r.a.createElement("th",null,"Progress"):null)),r.a.createElement("tbody",null,a)))};Zt.defaultProps={showProgress:!0};var $t=Zt,en=(n(139),Object(v.b)((function(e){return{words:e.words.words,pronunciationType:e.settings.pronunciationType,previewFilter:e.view.previewFilter}}),It)($t)),tn=k(be),nn=function(e){var t=e.togglePreviewFilterStatus,n=e.words,a=e.previewFilter,c=tn(n,C(new Date),a);return r.a.createElement("div",{className:"progress-page"},r.a.createElement("h1",null,"Progress"),r.a.createElement("div",{className:"filter"},r.a.createElement(Ht,{onClick:function(){return t(1)},selected:a.includes(1)},"Practice words"),r.a.createElement(Ht,{onClick:function(){return t(2)},selected:a.includes(2)},"Currently due for testing"),r.a.createElement(Ht,{onClick:function(){return t(3)},selected:a.includes(3)},"Pending tests"),r.a.createElement(Ht,{onClick:function(){return t(4)},selected:a.includes(4)},"Mastered words"),r.a.createElement(Ht,{onClick:function(){return t(0)},selected:a.includes(0)},"Future words")),r.a.createElement(en,{visibleWords:c}))},an=(n(140),It.togglePreviewFilterStatus),rn=Object(v.b)((function(e){return{words:e.words.words,previewFilter:e.view.previewFilter}}),{togglePreviewFilterStatus:an})(nn),cn=function(e){var t=e.label,n=e.disabled,a=e.onClick;return r.a.createElement("button",{onClick:a,className:n?"selected":null},t)},on=function(e){var t=e.voices,n=e.selectedVoice,a=e.onSelectVoice,c=e.heading,o=t.map((function(e){return r.a.createElement(cn,{key:e.name,label:e.name,disabled:e===n,onClick:function(){return a(e)}})}));return r.a.createElement("div",{className:"voice-selector"},r.a.createElement("h2",null,c," (",t.length," available)"),r.a.createElement("div",{className:"voices"},o))},sn=n(65),ln=function(e){var t,n=e.value,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h2",null,"Speech rate (Thai)"),r.a.createElement(sn.a,{min:.5,max:1.8,step:.1,value:n,onChange:a}),r.a.createElement("div",null,(t=n,"".concat(Math.round(100*t),"%"))))},un=function(e){var t=e.word;return r.a.createElement("div",{className:"sample"},r.a.createElement("div",null,t.ipa),r.a.createElement("div",null,r.a.createElement(Jt,{word:t})),r.a.createElement("div",null,t.paiboon))},pn=["\u0e2a\u0e23\u0e49\u0e32\u0e07","\u0e40\u0e2e\u0e49\u0e2d","\u0e08\u0e23\u0e34\u0e15","\u0e01\u0e35\u0e2c\u0e32","\u0e01\u0e32\u0e23\u0e40\u0e21\u0e37\u0e2d\u0e07","\u0e1b\u0e01\u0e04\u0e23\u0e2d\u0e07"],dn=function(e,t,n){return n?r.a.createElement("button",{className:"disabled-button"},e):r.a.createElement("button",{onClick:t},e)},mn=function(e){var t=e.changePronunciationType,n=e.pronunciationType,a=e.words,c=pn.map((function(e){return a.find((function(t){return t.thai===e}))})).map((function(e){return r.a.createElement(un,{key:e.thai,word:e})})),o="Paiboon"===n?"samples paiboon":"samples ipa";return r.a.createElement("div",{className:"voice-selector"},r.a.createElement("h2",null,"Displayed Pronunciation"),r.a.createElement("p",null,"The goal of this entire site is for you to be able to read without any intermediate transcription system."),r.a.createElement("p",null,"But to get you there, this site supports two popular phonemic transcription systems: the ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/International_Phonetic_Alphabet"},"International Phonemic Alphabet"),", a standard system used commonly by linguists to transcribe virtually any human language; and the Paiboon system, developed by ",r.a.createElement("a",{href:"https://www.paiboonpublishing.com/"},"Paiboon Publishing"),"."),r.a.createElement("p",null,"Which should you use? That depends on you. IPA is generally considered to be the most complete transcription system in common use. Paiboon, on the other hand, is more popular in print and on the Internet. But it is more important that you select a system that makes the most sense to you. Or perhaps stick to the system you already have seen in other study books. No matter which system you pick, you have to prepare yourself to deal with unfamiliar symbols for Thai's many unfamiliar sounds."),r.a.createElement("p",null,"Still not sure? Listen to a few of the sample words below and then look at how the two systems transcribe these words. Then select the system that makes greatest sense to you."),r.a.createElement("div",{className:o},r.a.createElement("div",{className:"sample"},r.a.createElement("div",null,dn("Use I.P.A.",(function(){return t("IPA")}),"IPA"===n)),r.a.createElement("div",null),r.a.createElement("div",null,dn("Use Paiboon",(function(){return t("Paiboon")}),"Paiboon"===n))),c))},hn=n(69),fn=function(e,t,n){return Object(b.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:e?"#73959a":n?"#eee":"#c8dbde",color:e?"#fff":n?"#ccc":"initial",textAlign:"center"},t)},vn=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDragEnd=e.onDragEnd.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"onDragEnd",value:function(e){var t=e.source,n=e.destination;if(n){var a=function(e,t,n){var a=e[t];if(void 0===a)return Object(g.a)(e);n=n<0?0:n;var r=[].concat(Object(g.a)(e.slice(0,t)),Object(g.a)(e.slice(t+1)));return[].concat(Object(g.a)(r.slice(0,n)),[a],Object(g.a)(r.slice(n)))}(this.props.order,t.index,n.index);this.props.onChange(a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled;return r.a.createElement("div",{className:n},r.a.createElement(hn.a,{onDragEnd:this.onDragEnd},r.a.createElement(hn.c,{droppableId:"droppable",isDropDisabled:a},(function(t,n){return r.a.createElement("div",{ref:t.innerRef,style:(c=n.isDraggingOver,{borderWidth:"1px",borderStyle:"solid",borderColor:c?"#999":"#ddd",padding:8,width:250})},e.props.order.map((function(e,t){return r.a.createElement(hn.b,{key:e,draggableId:e,index:t,isDragDisabled:a},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:fn(n.isDragging,t.draggableProps.style,a)}),e)}))})));var c}))))}}]),n}(a.Component),bn=function(e){var t=e.changePracticeDisplayOrder,n=e.practiceAllAtOnce,a=e.practiceOrder;return r.a.createElement("div",null,r.a.createElement("h2",null,"Practice Reveal Order"),r.a.createElement("div",{className:"all-at-once"},r.a.createElement("input",{type:"checkbox",id:"practiceAllAtOnce",checked:!n,onChange:function(){return t({practiceAllAtOnce:!n})},name:"toggle"})," ",r.a.createElement("label",{htmlFor:"practiceAllAtOnce"},"Reveal words incrementally in the following order")),r.a.createElement(vn,{className:"practice-order-selector",order:a,onChange:function(e){return t({practiceOrder:e})},disabled:n}))},gn=function(e){var t=e.min,n=e.max,a=e.value,c=e.onChange,o=e.heading;return r.a.createElement("div",null,r.a.createElement("h2",null,o),r.a.createElement(sn.a,{min:t,max:n,step:1,value:a,onChange:c}),r.a.createElement("div",null,a))},yn=function(e){var t=e.word;return r.a.createElement(a.Fragment,null,ut(t.thai).map((function(e,t){var n,a=Object(D.a)(e,2),c=a[0],o=a[1];return r.a.createElement("span",{key:t,className:(n=o,3===n?"tc_low":2===n?"tc_mid":1===n?"tc_high":"tc_none")},c)})))},wn=function(e){var t=e.onToggle,n=e.showCharacterClasses;return r.a.createElement("div",null,r.a.createElement("h2",null,"Practice hints"),r.a.createElement("div",{className:"button-group"},r.a.createElement("div",{onClick:n?null:t,className:"toggle-header ".concat(n?"selected":"")},"Color character class"),r.a.createElement("div",{onClick:n?t:null,className:"toggle-header ".concat(n?"":"selected")},"No color")),r.a.createElement("div",null,r.a.createElement("h3",null,n?r.a.createElement(yn,{word:{thai:"\u0e2b\u0e22\u0e33\u0e40\u0e1b"}}):"\u0e2b\u0e22\u0e33\u0e40\u0e1b")))},En=function(e){var t=e.resetProgress,n=e.toggleResetProgress,a=e.resetProgressVisible,c=j({modal:!0,visible:a});return r.a.createElement("div",{className:"reset-progress"},r.a.createElement("h2",null,"Reset"),r.a.createElement("div",{className:"button-group"},r.a.createElement("div",{className:"danger",onClick:n},"Reset progress")),r.a.createElement("p",null,"Be careful! Resetting your progress will be like starting all tests from scratch."),r.a.createElement("div",{className:c},r.a.createElement("div",{className:"bg",onClick:n}),r.a.createElement("div",{className:"fg"},r.a.createElement("h3",null,"Reset progress?"),r.a.createElement("div",null,r.a.createElement("button",{onClick:n},"Cancel"),r.a.createElement("button",{className:"danger",onClick:t},"Reset progress")))))},On=function(e){var t=e.pronunciationType,n=e.rate,a=e.thaiVoice,c=e.thaiVoices,o=e.englishVoice,s=e.englishVoices,i=e.words,l=e.practiceWordLimit,u=e.testingWordLimit,p=e.practiceOrder,d=e.practiceAllAtOnce,m=e.showCharacterClasses,h=e.resetProgressVisible,f=e.changePracticeDisplayOrder,v=e.changePronunciationType,b=e.changePracticeWordLimit,g=e.changeTestingWordLimit,y=e.setRate,w=e.setThaiVoice,E=e.setEnglishVoice,O=e.toggleCharacterClasses,j=e.resetProgress,k=e.toggleResetProgress;return r.a.createElement("div",{className:"settings"},r.a.createElement("h1",null,"Settings"),r.a.createElement("section",null,r.a.createElement(on,{heading:"Thai voices",voices:c,selectedVoice:a,onSelectVoice:w}),r.a.createElement(on,{heading:"English voices",voices:s,selectedVoice:o,onSelectVoice:E}),r.a.createElement("aside",null,"If you see no voices above, try reloading the page now. That usually solves the problem."),r.a.createElement("aside",null,"Don't see a Thai voice? Try googling on how to install ",r.a.createElement("strong",null,"Thai voice support")," on your specific device."),r.a.createElement("aside",null,"Android users may see multiple available voices, when only one is ever used. I don't know why this happens or how to fix it.")),r.a.createElement("section",null,r.a.createElement(ln,{value:n,onChange:y})),r.a.createElement("section",{className:"practice-order"},r.a.createElement(bn,{changePracticeDisplayOrder:f,practiceWordLimit:l,practiceOrder:p,practiceAllAtOnce:d})),r.a.createElement("section",null,r.a.createElement(wn,{onToggle:O,showCharacterClasses:m})),r.a.createElement("section",null,r.a.createElement(gn,{heading:"Ideal number of words to practice at once",min:5,max:30,value:l,onChange:b})),r.a.createElement("section",null,r.a.createElement(gn,{heading:"Maximum number of words to test at once",min:5,max:30,value:u,onChange:g})),r.a.createElement("section",null,r.a.createElement(mn,{pronunciationType:t,changePronunciationType:v,words:i})),r.a.createElement("section",null,r.a.createElement(En,{toggleResetProgress:k,resetProgress:j,resetProgressVisible:h})))},jn=(n(196),Object(v.b)((function(e){var t=e.voice,n=t.thaiVoice,a=t.thaiVoices,r=t.englishVoice,c=t.englishVoices,o=t.rate,s=e.words.words,i=e.settings;return{words:s,englishVoice:r,englishVoices:c,thaiVoice:n,thaiVoices:a,rate:o,pronunciationType:i.pronunciationType,practiceWordLimit:i.practiceWordLimit,testingWordLimit:i.testingWordLimit,practiceOrder:i.practiceOrder,practiceAllAtOnce:i.practiceAllAtOnce,showCharacterClasses:i.showCharacterClasses,resetProgressVisible:i.resetProgressVisible}}),It)(On)),kn=n(117),Nn=k(be),xn=function(e){var t=e.practiceWordLimit,n=e.words,a=Nn(n,C(new Date),[1]).slice(0,t);return r.a.createElement("div",{className:"preview"},r.a.createElement(h.b,{className:"start-button",to:"/practice/full"},"Start"),r.a.createElement("section",null,r.a.createElement("h2",null,"Words for this session"),r.a.createElement(en,{visibleWords:a,showPreview:!1,showProgress:!1})))},Cn=n(210),An=n(211),Sn=function(e){var t=e.index,n=e.word,a=e.stage,c=e.practiceAllAtOnce,o=e.pronunciationType,s=e.prop,i=e.showCharacterClasses,l=e.type,u="pronunciation"===l,p="thai"===l,d=c||a>=t,m=u?n["Paiboon"===o?"paiboon":"ipa"]:p&&i?r.a.createElement(yn,{word:n}):n[l],h=j(Object(yt.a)({visible:d},s,!0)),f=u?r.a.createElement(Jt,{word:n}):null;return r.a.createElement("div",{className:h},m," ",f)},Tn=function(e){var t=e.word,n=e.onClick,a=e.pronunciationType,c=e.stage,o=e.practiceOrder,s=e.practiceAllAtOnce,i=e.showCharacterClasses,l=o.map((function(e,n){return r.a.createElement(Sn,{key:e,index:n,type:o[n],practiceAllAtOnce:s,pronunciationType:a,stage:c,word:t,showCharacterClasses:i,prop:e})})),u=c>1?"\xbb":"\u203a";return r.a.createElement("div",{onClick:n,className:j({card:!0,practiceAllAtOnce:s})},l,r.a.createElement("span",{className:"next-button"},u))},Pn=(n(106),function(e){var t=e.children,n=e.toggleHint,a=e.title,c=e.hintVisible,o=j({hint:!0,visible:c});return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"background",onClick:n}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"left-side"},"\u2139"),r.a.createElement("div",{className:"right-side"},r.a.createElement("h2",null,a),r.a.createElement("section",null,t)))),r.a.createElement("button",{onClick:n},"?"))});Pn.defaultProps={title:"Hint"};var Vn=Pn,Ln=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).cardsSeen=0,e.onKey=e.onKey.bind(Object(Gt.a)(e)),document.addEventListener("keydown",e.onKey),e}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){e.currentIndex!==this.props.currentIndex&&(this.cardsSeen+=1)}},{key:"componentWillUnmount",value:function(){this.props.registerPracticeEnd("full",this.cardsSeen),document.removeEventListener("keydown",this.onKey)}},{key:"onKey",value:function(e){var t=e.code,n=this.props,a=n.advancePractice,r=n.practiceAllAtOnce,c=n.nudgePractice;r||"Space"!==t&&"ArrowDown"!==t&&"Enter"!==t?"ArrowRight"===t?a(1):"ArrowLeft"===t&&a(-1):c()}},{key:"render",value:function(){var e=this.props,t=e.pronunciationType,n=e.queue,c=e.currentIndex,o=e.currentStage,s=e.nudgePractice,i=e.practiceAllAtOnce,l=e.practiceOrder,u=e.showCharacterClasses,p=n[c];if(!p)return null;(i||"pronunciation"===l[o])&&setTimeout((function(){return Je(Me,p)}),300);var d=r.a.createElement(Cn.a,{key:p.id,timeout:500,classNames:"card"},r.a.createElement(Tn,{word:n[c],stage:o,onClick:function(){return s(i)},pronunciationType:t,practiceAllAtOnce:i,practiceOrder:l,showCharacterClasses:u}));return r.a.createElement(a.Fragment,null,r.a.createElement(Vn,Object.assign({},this.props,{title:"Instructions"}),r.a.createElement("p",null,"Press [Space] or [Enter] to advance"),r.a.createElement("p",null,"Press [Right Arrow] to skip to the next word."),r.a.createElement("p",null,"Press [Left Arrow] to jump back to the last word."),r.a.createElement("p",null,"Go to settings to change the number of words to practice at once.")),r.a.createElement(An.a,{className:"cards"},d))}}]),n}(a.Component),In=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.practiceWordLimit;(0,e.seedPractice)(e.words,t)}},{key:"componentWillUnmount",value:function(){this.props.closePractice()}},{key:"render",value:function(){var e=this.props,t=e.match.params,n=Object(kn.a)(e,["match"]),a=t.type||null;return r.a.createElement("div",{className:"practice"},r.a.createElement(h.b,{className:"test-button",to:"/test/current"},"Test now ",r.a.createElement("span",{className:"icon"},"\u3009")),r.a.createElement("h1",null,"Practice"),"full"===a?r.a.createElement(Ln,n):r.a.createElement(xn,n))}}]),n}(a.Component),Mn=(n(197),Object(v.b)((function(e){var t=e.words,n=e.settings,a=e.view;return{currentIndex:t.currentIndex,currentStage:t.currentStage,hintVisible:a.hintVisible,queue:t.queue,words:t.words,practiceWordLimit:n.practiceWordLimit,pronunciationType:n.pronunciationType,practiceOrder:n.practiceOrder,practiceAllAtOnce:n.practiceAllAtOnce,showCharacterClasses:n.showCharacterClasses,subview:a.subview}}),It)(In)),Wn=function(e){return e.length||0},Dn=Object(f.f)((function(e){var t=e.testingWordLimit,n=e.words,a=he(n),c=me(n,C()),o=function(e){return e.filter((function(e){var t=e.aspectScores,n=void 0===t?null:t;return null!==n&&Math.min.apply(Math,Object(g.a)(n))>4}))}(n),s=Wn(c),i=Wn(a),l=Wn(o);return s||i||l?s||i?r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Test"),r.a.createElement("h2",null,"Select what you would like to test"),0===c.length?null:r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/test/overdue"},"Overdue (",s||"none",")")),0===a.length?null:r.a.createElement("section",null,r.a.createElement(h.b,{className:"button",to:"/test/current"},"Current (",i||"none",")")),r.a.createElement("section",null,r.a.createElement("aside",null,"According to your ",r.a.createElement(h.b,{to:"/settings"},"settings"),", tests will cover a maximum of ",t," words at a time. It is important to set the right value. Too high and tests will seem tedious and you'll hate doing them. Too low, and they won't be a challenge."))):r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Nothing to test."),r.a.createElement("h2",null,"You have mastered all words")):r.a.createElement("div",{className:"navigation"},r.a.createElement("h1",null,"Nothing to test"),r.a.createElement("h2",null,"You need to ",r.a.createElement(h.b,{to:"/practice"},"practice")," before you can test"))})),Rn=(n(198),It.setTestType),qn=Object(v.b)((function(e){return{testingWordLimit:e.settings.testingWordLimit,words:e.words.words}}),{setTestType:Rn})(Dn),Kn=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.property;this.speak=this.speak.bind(this),Qe(e)&&setTimeout(this.speak,500)}},{key:"speak",value:function(){var e=this.props.word;Je(Me,e)}},{key:"render",value:function(){var e=this.props,t=e.word,n=e.property;return Qe(n)?r.a.createElement("div",{className:"question"},t[n]," ",r.a.createElement(Jt,{word:t})):r.a.createElement("div",{className:"question"},t[n])}}]),n}(a.Component),Fn=function(e,t,n,a){return null===t?"answer":a&&e===n?"answer correct":a&&e===t&&e!==n?"answer incorrect":a?"answer hidden":t===e?"answer selected":null===t?"answer":"answer rejected"},zn=function(e){var t=e.word,n=e.property,a=e.onSelect,c=e.selected,o=e.correct,s=e.isAnswered;return r.a.createElement("div",{className:Fn(t,c,o,s),onClick:a},r.a.createElement("span",{className:n},t[n]),Qe(n)?r.a.createElement("span",{className:"play-button"},r.a.createElement(Jt,{word:t})):null)},Un=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).defaultButtonRef=Object(a.createRef)(),e}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){this.defaultButtonRef.current&&this.defaultButtonRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.isAnswered,n=e.isCorrect,a=e.isLastQuestion,c=e.submitAnswer;return t&&a?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:n?"default success":"default fail",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"View Results")):t&&n?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"default success",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"Very good! Next")):t?r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"small-text",onClick:function(){return c(n)}},"Mark as correct anyway"),r.a.createElement("button",{className:"default fail",ref:this.defaultButtonRef,onClick:function(){return c(n)}},"Next")):r.a.createElement("div",{className:"advancement"},r.a.createElement("button",{className:"default",onClick:function(){return c(null)}},"Not sure / Skip"))}}]),n}(a.Component),Bn=[{question:"thai",answer:"pronunciation"},{question:"pronunciation",answer:"thai"}],_n=function(e,t){return"pronunciation"===e?"IPA"===t?"ipa":"paiboon":e},Hn=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var o=(e=t.call.apply(t,[this].concat(r))).props,s=o.queue,i=o.index,l=o.stage,p=o.words,d=o.pronunciationType,m=_n(Bn[l].answer,d),h=P([].concat(Object(g.a)(T(s[i],m,p).slice(0,8)),[s[i]]));return e.state={property:m,answers:h,selectedAnswer:null},e.answer=e.answer.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"answer",value:function(e){this.state.selectedAnswer||this.setState({selectedAnswer:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.queue,a=t.index,c=t.stage,o=t.pronunciationType,s=t.submitAnswer,i=this.state,l=i.answers,u=i.property,p=i.selectedAnswer,d=n[a],m=null!==p,h=l.map((function(t){return r.a.createElement(zn,{key:t.id,isAnswered:m,correct:d,selected:p,word:t,property:u,pronunciationType:o,onSelect:function(){return e.answer(t)}})})),f=d===p;return r.a.createElement("div",{className:"challenge"},r.a.createElement(Kn,{word:d,property:_n(Bn[c].question,o)}),r.a.createElement("div",{className:"answers"},h),r.a.createElement(Un,{isLastQuestion:a===n.length-1,isCorrect:f,index:a,isAnswered:m,submitAnswer:s}))}}]),n}(a.PureComponent),Gn=function(e){var t=e.index,n=e.queue,a={width:"".concat(Math.floor(1e3*t/n.length)/10,"%")},c="progress stage-".concat(Math.floor(3*t/n.length));return r.a.createElement("div",{className:c},r.a.createElement("div",{style:a,className:"bar"}))},Jn=function(e){return r.a.createElement("div",{className:"test"},r.a.createElement(An.a,{className:"content"},r.a.createElement(Cn.a,{timeout:400,key:e.index,classNames:"challenge-container"},r.a.createElement(Hn,Object.assign({key:e.index},e)))),r.a.createElement(Gn,e))},Qn=(n(199),Object(v.b)((function(e){return{pronunciationType:e.settings.pronunciationType,testWords:e.test.testWords,queue:e.test.queue,type:e.test.type,stage:e.test.stage,isComplete:e.test.isComplete,submitAnswer:e.test.submitAnswer,index:e.test.index,words:e.words.words}}),It)(Jn)),Xn=function(e){var t=e.scores[e.index],n=function(e){return 1===e?"correct":-1===e?"incorrect":null}(t),a=function(e){return 1===e?"\u2713":-1===e?"\u2715":"\u2003"}(t);return r.a.createElement("span",{className:n},a)},Yn=function(e){var t=e.word,n=e.aspectScores;return r.a.createElement("div",{className:"result"},r.a.createElement("div",null,t.thai),r.a.createElement("div",null,r.a.createElement(Xn,{index:0,scores:n})),r.a.createElement("div",null,r.a.createElement(Xn,{index:1,scores:n})))},Zn=function(e){var t=e.saveTest,n=e.testWords,a=e.scores,c=n.map((function(e){var t=a.reduce((function(t,n){var a=n.id,r=n.score,c=n.aspect;return a===e.id&&(t[c]=r),t}),[0,0]);return r.a.createElement(Yn,{key:e.id,word:e,aspectScores:t})}));return r.a.createElement("div",{className:"test-results"},r.a.createElement("h1",null,"Results"),r.a.createElement("section",null,r.a.createElement("button",{className:"save-button",onClick:function(){return t(a)}},"Save results")),r.a.createElement("section",{className:"items"},r.a.createElement("div",{className:"result header"},r.a.createElement("div",null),r.a.createElement("div",null,"Reading"),r.a.createElement("div",null,"Comprehension")),c))},$n=(n(200),Object(v.b)((function(e){return{testWords:e.test.testWords,scores:e.test.scores,queue:e.test.queue,pronunciationType:e.settings.pronunciationType}}),It)(Zn)),ea=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.match.params,a=e.setTestType;"current"===n.type?a(1)||t.replace("/test"):"overdue"===n.type&&a(0)||t.replace("/test")}},{key:"componentDidUpdate",value:function(){this.props.isSaved&&this.props.history.push("/progress")}},{key:"componentWillUnmount",value:function(){this.props.clearTest()}},{key:"render",value:function(){var e=this.props,t=e.isComplete,n=e.queue;return t?r.a.createElement($n,null):0===n.length?r.a.createElement(qn,null):r.a.createElement(Qn,null)}}]),n}(a.Component),ta=Object(f.f)(ea),na=Object(v.b)((function(e){var t=e.test,n=t.isComplete,a=t.isSaved,r=t.queue;return{hintVisible:e.view.hintVisible,isComplete:n,isSaved:a,queue:r}}),It)(ta),aa=function(e){var t=e.examples;return r.a.createElement("div",{className:"examples"},t.map((function(e,t){return r.a.createElement("span",{key:t},e," ",r.a.createElement(Jt,{word:{thai:e}}))})))},ra=function(e){var t=e.vowel,n=e.pronunciationType,c=e.onNext,o=e.onPrev;return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"prev navigation-button",onClick:function(){return o(t)},title:"Previous (\u2190)"},"\u3008")),r.a.createElement("div",{className:"main-content"},r.a.createElement("h1",null,t.vowel),r.a.createElement("h2",null,"IPA"===n?t.ipa:t.paiboon," ",r.a.createElement(Jt,{word:{thai:t.vowel}})),r.a.createElement(aa,{examples:t.examples})),r.a.createElement("div",null,r.a.createElement("div",{className:"next navigation-button",onClick:function(){return c(t)},title:"Next (\u2192, space)"},"\u3009")))},ca=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=e.onClick.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"onClick",value:function(e){var t=e.target,n=this.props.onClick;t.blur(),n()}},{key:"render",value:function(){var e=this.props,t=e.vowel,n=e.visibleVowel;return r.a.createElement("button",{className:t===n?"selected":null,onClick:this.onClick},t.vowel)}}]),n}(a.PureComponent),oa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onKey=e.onKey.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeVowels(),document.addEventListener("keydown",this.onKey)}},{key:"componentWillUnmount",value:function(){this.props.clearSounds(),document.removeEventListener("keydown",this.onKey)}},{key:"onKey",value:function(e){var t=e.code,n=this.props,a=n.showNextVowel,r=n.showPrevVowel,c=n.visibleVowel;c&&("Space"===t||"ArrowRight"===t?a(c):"ArrowLeft"===t&&r(c))}},{key:"componentDidUpdate",value:function(e){var t=this.props.visibleVowel;if(t&&e.visibleVowel!==t){var n=t.examples;!function(e,t){var n=function(){var t=Object(l.a)(i.a.mark((function t(a){var r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(Ve.a)(a),c=r[0],o=r.slice(1),t.next=3,Je(e,"voices/languageenglish"===e?{term:c}:{thai:c});case 3:o.length&&n(o);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t&&n(t)}(Me,n)}}},{key:"render",value:function(){var e=this.props,t=e.pronunciationType,n=e.showVowel,a=e.visibleVowel,c=e.vowels,o=e.showNextVowel,s=e.showPrevVowel,i=c.map((function(e,t){return r.a.createElement(ca,{key:t,vowel:e,visibleVowel:a,onClick:function(){return n(e)}})}));return r.a.createElement("div",{className:"vowels"},r.a.createElement("section",{className:"visible-vowel"},a?r.a.createElement(ra,{vowel:a,pronunciationType:t,onNext:o,onPrev:s}):" "),r.a.createElement("div",{className:"buttons"},i))}}]),n}(a.Component),sa=(n(201),Object(v.b)((function(e){var t=e.sounds;return{pronunciationType:e.settings.pronunciationType,visibleVowel:t.visibleVowel,vowels:t.vowels}}),It)(oa)),ia=function(e,t){return"Other"===e?1:"Other"===t?-1:e>t?1:-1},la=k((function(e){return Object.keys(e).sort(ia)})),ua=function(e){var t=e.consonantKeys,n=e.showConsonantsByKey,a=e.visibleConsonantKey,c=la(t).map((function(e){return r.a.createElement("li",{key:e,className:e===a?"selected":null,onClick:function(){return n(e)}},e)}));return r.a.createElement("nav",{className:"category-picker"},r.a.createElement("ol",null,r.a.createElement("li",{className:a||"selected",onClick:function(){return n(null)}},"All"),c))},pa=k((function(e,t){return Object.keys(e).filter((function(e){return!t||t.indexOf(e)>-1})).map((function(t){return{character:t,consonant:e[t]}}))})),da=function(e){var t=e.consonantKeys,n=e.consonants,a=e.visibleConsonantKey,c=e.pronunciationType,o=pa(n,t[a]).map((function(e){var t=e.character,n=Object(D.a)(e.consonant,5),a=n[2],o=n[3],s=n[4];return r.a.createElement("div",{key:t},r.a.createElement("span",null,r.a.createElement(yn,{word:{thai:t}})),r.a.createElement("span",null,"IPA"===c?a:o),r.a.createElement("span",null,s),r.a.createElement("span",null,r.a.createElement(Jt,{word:{thai:s}})))}));return r.a.createElement("div",{className:"list"},o)},ma=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={filter:null},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeConsonants()}},{key:"componentWillUnmount",value:function(){this.props.clearSounds()}},{key:"render",value:function(){var e=this.props,t=e.consonantKeys,n=e.consonants,a=e.pronunciationType,c=e.showConsonantsByKey,o=e.visibleConsonantKey;return r.a.createElement("div",{className:"consonants"},r.a.createElement("h1",null,"All consonants"),r.a.createElement(ua,{consonantKeys:t,showConsonantsByKey:c,visibleConsonantKey:o}),r.a.createElement(da,{consonants:n,consonantKeys:t,visibleConsonantKey:o,pronunciationType:a}))}}]),n}(a.Component),ha=(n(202),Object(v.b)((function(e){var t=e.settings.pronunciationType,n=e.sounds;return{consonantKeys:n.consonantKeys,consonants:n.consonants,pronunciationType:t,visibleConsonantKey:n.visibleConsonantKey}}),It)(ma)),fa=function(e){var t=e.confusions,n=e.visibleConfusion,a=e.showConfusionByIndex,c=t.map((function(e,t){return r.a.createElement("li",{key:t,className:t===n?"selected":null,onClick:function(){return a(t)}},e[0])}));return r.a.createElement("nav",{className:"confusion-picker"},r.a.createElement("ol",null,c))},va=function(e){var t=e.confusions,n=e.visibleConfusion,a=e.consonants,c=e.pronunciationType,o=t[n].map((function(e){return{character:e,consonants:a[e]}})).map((function(e){var t=e.character,n=Object(D.a)(e.consonants,5),a=n[2],o=n[3],s=n[4];return r.a.createElement("div",{key:t},r.a.createElement("span",null,t),r.a.createElement("span",null,"IPA"===c?a:o),r.a.createElement("span",null,s),r.a.createElement("span",null,r.a.createElement(Jt,{word:{thai:s}})))}));return r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"characters"},o),r.a.createElement(h.b,{className:"drill-button",to:"/basics/consonants/confusion/drill-".concat(n)},"Drill ",r.a.createElement("span",{className:"icon"},"\u3009")))},ba=n(66),ga=function(e){var t,n=e.correctAnswer,a=e.index,c=e.mistakes,o=e.onSelect,s=e.possibleAnswer,i=n===a,l=c.indexOf(a)>-1,u=l?null:o,p=j((t={},Object(yt.a)(t,"answer-".concat(a),!0),Object(yt.a)(t,"incorrect",l),Object(yt.a)(t,"correct",i),t));return r.a.createElement("h3",{onClick:u,className:p},s)},ya=L(5),wa={ArrowLeft:0,ArrowRight:1,ArrowUp:2,ArrowDown:3},Ea=function(e){return[e]},Oa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];e=t.call.apply(t,[this].concat(r));var o=r[0],s=o.consonants,i=o.match.params,l=o.confusions,p=o.pronunciationType,d=o.showConfusionByIndex,m=parseInt(i.visibleConfusion,10);if(!l[m])return Object(ba.a)(e,null);d(m);var h=l[m].map((function(e){return{char:e,pronunciation:s[e]["Paiboon"===p?3:2]}}));Ea=W(h.map((function(e){return e.pronunciation})),4);var f=ya(h);return e.state={correctAnswer:null,currentConsonant:null,currentIndex:-1,mistakes:[],possibleAnswers:[],queue:f,waiting:!1},e.onKey=e.onKey.bind(Object(Gt.a)(e)),e.advance=e.advance.bind(Object(Gt.a)(e)),document.addEventListener("keydown",e.onKey),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.advance(1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.queue,n=this.state.currentIndex+e,a=t[(n+t.length)%t.length],r=Ea(a.pronunciation);this.setState({correctAnswer:null,currentIndex:n,currentConsonant:a,possibleAnswers:r,mistakes:[],waiting:!1})}},{key:"selectAnswer",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.hintVisible,a=this.state,r=a.correctAnswer,c=a.possibleAnswers,o=a.currentConsonant,s=a.mistakes,!a.waiting&&!n){e.next=4;break}return e.abrupt("return");case 4:return(l=c[t]===o.pronunciation)?r=t:s=[].concat(Object(g.a)(s),[t]),this.setState({correctAnswer:r,mistakes:s,waiting:!0}),e.next=9,N(l?750:500);case 9:l?this.advance(1):this.setState({waiting:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code,n=wa[t];void 0!==n&&this.selectAnswer(n)}},{key:"render",value:function(){var e=this,t=this.state,n=t.correctAnswer,a=t.currentConsonant,c=t.possibleAnswers,o=t.currentIndex,s=t.mistakes;if(null===a)return null;var i=c.map((function(t,a){return r.a.createElement(ga,{key:t,correctAnswer:n,mistakes:s,index:a,onSelect:function(){return e.selectAnswer(a)},possibleAnswer:t})})),l=r.a.createElement(Cn.a,{key:o,timeout:500,classNames:"card"},r.a.createElement("div",null,r.a.createElement("h1",null,a.char),i));return r.a.createElement("div",{className:"drill"},r.a.createElement(Vn,Object.assign({},this.props,{title:"Instructions"}),r.a.createElement("p",null,"Use your arrow keys to select the correct pronunciation."),r.a.createElement("p",null,"You will advance automatically when you make the correct choice.")),r.a.createElement(An.a,{className:"container"},l))}}]),n}(a.PureComponent),ja=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeConfusion()}},{key:"componentWillUnmount",value:function(){this.props.clearSounds()}},{key:"render",value:function(){var e=this.props,t=e.confusions,n=e.visibleConfusion,a=e.showConfusionByIndex,c=e.confusionLoaded,o=e.match.params,s=void 0===o?{}:o;return 0===t.length?null:isNaN(s.visibleConfusion)?r.a.createElement("div",{className:"confusion"},r.a.createElement("h1",null,"Easily confused consonants"),r.a.createElement(fa,{confusions:t,visibleConfusion:n,showConfusionByIndex:a}),c?r.a.createElement(va,this.props):null):r.a.createElement(Oa,this.props)}}]),n}(a.Component),ka=(n(203),n(204),Object(v.b)((function(e){var t=e.settings.pronunciationType,n=e.sounds,a=n.consonants,r=n.confusions,c=n.confusionLoaded,o=n.visibleConfusion,s=n.showConfusionByIndex;return{consonants:a,confusions:r,confusionLoaded:c,hintVisible:e.view.hintVisible,pronunciationType:t,visibleConfusion:o,showConfusionByIndex:s}}),It)(ja)),Na=k((function(e,t){return 0===e.length||e.some((function(e){return e===t}))?"highlighted":null}),100),xa=function(e){var t=e.character,n=e.highlight,a=e.highlightedCharacters,c=Na(a,t);return r.a.createElement("div",{className:c,onMouseOver:function(){return n(t)},onMouseOut:function(){return n(null)},key:t},t)};var Ca=function(e){var t=e.url,n=e.children;return r.a.createElement("a",{href:t,onClick:function(e){return function(e,t){e.preventDefault(),window.open(t,"external")}(e,t)}},n)},Aa=function(e,t,n){return e.map((function(e){return r.a.createElement(xa,{key:e,character:e,highlight:t,highlightedCharacters:n})}))},Sa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={highlightedCharacters:[]},e.highlight=e.highlight.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"highlight",value:function(e){var t,n;e?this.setState({highlightedCharacters:(t=this.props.confusions,n=e,M(t.filter((function(e){return e.some((function(e){return n===e}))})).reduce((function(e,t){return[].concat(Object(g.a)(e),Object(g.a)(t))}),[])))}):this.setState({highlightedCharacters:[]})}},{key:"render",value:function(){var e=this.props,t=e.low,n=e.mid,a=e.high,c=this.state.highlightedCharacters;return r.a.createElement("div",{className:"review"},r.a.createElement("h1",null,"Consonant classes"),r.a.createElement(Vn,Object.assign({},this.props,{title:"Notes"}),r.a.createElement("p",null,"Mouse over any character to highlight the other characters you might consider similar-looking."),r.a.createElement("p",null,"Practice mid- and high-class characters first, since there aren't many to remember. All other consonant will be, by definition, low."),r.a.createElement("p",null,"Drilling here is ",r.a.createElement("i",null,"graduated")," \u2014 that is, you will be tested on the first few of each class. More characters are added only after you have made no mistakes!"),r.a.createElement("p",null,"The consonants are listed and drilled in order of (tone-leading) frequency. The Thai alphabet closely follows ",r.a.createElement(Ca,{url:"https://en.wikipedia.org/wiki/Zipf's_law"},"Zipf's Law"),". So memorizing and mastering only the first few characters will be dramatically more helpful than memorizing only the last few!"),r.a.createElement("p",null,"Author's note: My personal sense is that mnemonics do not help with character classes. Tone rules are hard enough. They should feel as automatic as possible, which is why I have chosen graduated drilling here.")),r.a.createElement("section",null,r.a.createElement("h2",null,"High"),r.a.createElement("div",{className:"high"},Aa(a,this.highlight,c))),r.a.createElement("section",null,r.a.createElement("h2",null,"Mid"),r.a.createElement("div",{className:"mid"},Aa(n,this.highlight,c))),r.a.createElement("section",null,r.a.createElement("h2",null,"Low"),r.a.createElement("div",{className:"low"},Aa(t,this.highlight,c))),r.a.createElement(h.b,{to:"/basics/tones/classes/drill/mid-high",className:"button"},"Drill (mid / high)"),r.a.createElement(h.b,{to:"/basics/tones/classes/drill/all",className:"button"},"Drill (all)"))}}]),n}(a.Component),Ta=function(e){var t=e.label,n=void 0===t?"":t,a=e.max,c=e.value,o="".concat(100*Math.min(Math.max(0,c/a),1),"%");return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"bar",style:{width:o}}),r.a.createElement("div",{className:"label"},n))},Pa=L(1),Va=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={busy:!1,correctItem:null,hiddenItems:[],index:0,stage:0,mistakesMade:!1,stageComplete:!1,queue:[]},e.onKey=e.onKey.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKey),this.reseed()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"reseed",value:function(){var e=this.props,t=e.low,n=e.high,a=e.mid,r=e.type,c=this.state,o=c.stage,s=c.queue,i=c.index,l=s[i],u=[a,n,"all"===r?t:[]].map((function(e){return e.slice(0,o+2)})).reduce((function(e,t){return[].concat(Object(g.a)(e),Object(g.a)(t))}));o=i>=s.length-1?o+1:o;do{s=Pa(u)}while(s[0]===l);this.setState({busy:!1,correctItem:null,hiddenItems:[],index:0,mistakesMade:!1,queue:s,stage:o,stageComplete:!1})}},{key:"checkAnswer",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l,u,p,d,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.low,r=n.mid,c=n.high,o=n.type,!this.state.busy){e.next=3;break}return e.abrupt("return");case 3:if(null!==(s=3===t&&"all"===o?a:2===t?r:1===t?c:null)){e.next=6;break}return e.abrupt("return");case 6:if(this.setState({busy:!0}),l=this.state,u=l.hiddenItems,p=l.index,d=l.mistakesMade,m=l.queue,!s.some((function(e){return e===m[p]}))){e.next=25;break}return this.setState({correctItem:t}),e.next=12,N(1e3);case 12:if(p+=1,!d){e.next=17;break}return e.abrupt("return",this.reseed());case 17:if(!(p>=m.length)){e.next=22;break}return this.setState({stageComplete:!0}),e.next=21,N(500);case 21:return e.abrupt("return",this.reseed());case 22:this.setState({busy:!1,correctItem:null,hiddenItems:[],index:p,queue:m}),e.next=26;break;case 25:this.setState({busy:!1,correct:!1,mistakesMade:!0,hiddenItems:[].concat(Object(g.a)(u),[t])});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code;"ArrowRight"===t?this.checkAnswer(2):"ArrowUp"===t?this.checkAnswer(1):"ArrowDown"===t&&this.checkAnswer(3)}},{key:"render",value:function(){var e=this,t=this.props.type,n=this.state,a=n.queue,c=n.index,o=n.hiddenItems,s=n.correctItem,i=n.mistakesMade,l=n.stage,u=n.stageComplete,p=["M","H","L"],d=[2,1,3],m=function(t){var n,a=s===d[t],c=o.some((function(e){return e===d[t]})),i=j((n={},Object(yt.a)(n,"answer-".concat(t+1),!0),Object(yt.a)(n,"correct",a),Object(yt.a)(n,"incorrect",c),n));return r.a.createElement("h3",{key:t,className:i,onClick:function(){return e.checkAnswer(d[t])}},p[t])},h=a[c],f=i?0:u?a.length:null!==s?c+1:c;return r.a.createElement("div",{className:"drill"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,h),m(0),m(1),"all"===t?m(2):null),r.a.createElement(Ta,{max:a.length,value:f,label:"Stage ".concat(l)}))}}]),n}(a.Component),La="\u0e04\u0e23\u0e17\u0e21\u0e1e\u0e25\u0e19\u0e0a\u0e27\u0e22\u0e20\u0e0b\u0e07\u0e1f\u0e18\u0e2e\u0e06\u0e0d\u0e13\u0e12\u0e0c\u0e11\u0e2c\u0e05".split(""),Ia="\u0e01\u0e15\u0e1b\u0e2d\u0e08\u0e1a\u0e14\u0e0e\u0e0f".split(""),Ma="\u0e2a\u0e2b\u0e02\u0e1c\u0e16\u0e28\u0e1d\u0e09\u0e10\u0e29\u0e03".split(""),Wa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeConsonants()}},{key:"render",value:function(){var e=this.props,t=e.confusions,n=e.match.params.type;return r.a.createElement("div",{className:"consonant-classes"},void 0===n?r.a.createElement(Sa,Object.assign({},this.props,{low:La,mid:Ia,high:Ma,confusions:t})):r.a.createElement(Va,{type:n,low:La,high:Ma,mid:Ia}))}}]),n}(a.Component),Da=(n(205),Object(v.b)((function(e){var t=e.sounds.confusions,n=e.tones.tonesmap;return{confusions:t,hintVisible:e.view.hintVisible,tonesmap:n}}),It)(Wa)),Ra=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={label:""},e.changeLabel=e.changeLabel.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"changeLabel",value:function(e,t){this.setState({label:e}),this.props.onHover(e,t)}},{key:"render",value:function(){var e=this,t=this.state.label,n=function(){var e,t,n,a=[],r=1;do{var c=dt(r);e=c.last,t=c.label,n=c.className,a.push({stage:r,label:t,className:n}),r+=1}while(!e);return a}().map((function(t){var n=t.stage,a=t.label,c=t.className;return r.a.createElement(h.b,{className:"button",key:n,onMouseOver:function(){return e.changeLabel(a,c)},onMouseOut:function(){return e.changeLabel("")},to:"/basics/tones/rules/drill/".concat(n)},n)}));return r.a.createElement("div",{className:"drill-buttons"},r.a.createElement("h3",null,"Practice starting at stage:"),r.a.createElement("div",{className:"buttons"},n),r.a.createElement("h4",{className:"labels"},t))}}]),n}(a.PureComponent),qa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={focusedStage:null,className:null},e.changeFocus=e.changeFocus.bind(Object(Gt.a)(e)),e.buttons=[],e}return Object(p.a)(n,[{key:"changeFocus",value:function(e,t){this.setState({focusedStage:e,className:t})}},{key:"render",value:function(){var e=this.state,t=e.focusedStage,n=e.className,a=null===t?null:j(Object(yt.a)({filtered:!!n},n,!!n));return r.a.createElement("div",{className:"review"},r.a.createElement("h1",null,"Tones"),r.a.createElement(Vn,Object.assign({},this.props,{title:"Hint"}),r.a.createElement("p",null,'Consider learning mid-class rules first. They make a great foundation! The other classes essentially "borrow" something from mid-class rules.'),r.a.createElement("p",null,"On the other hand, tone-leading low-class characters are more frequent than mid- and high-class characters (according to my studies: 42% vs. 35% & 23%.)")),r.a.createElement("h2",null,"Rules for syllables with no tone markers"),r.a.createElement("table",{className:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{colSpan:"3"},"Live"),r.a.createElement("th",{colSpan:"3"},"Dead")),r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{colSpan:"3"},"Open + Long / Closed with Sonorant"),r.a.createElement("th",null,"Open + short"),r.a.createElement("th",null,"Closed + short"),r.a.createElement("th",null,"Closed + long"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"high"},"High"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-9"},"R"),r.a.createElement("td",{colSpan:"3",className:"c-2 c-3 c-4 c-9"},"L")),r.a.createElement("tr",null,r.a.createElement("th",{className:"mid"},"Mid"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-8"}),r.a.createElement("td",{colSpan:"3",className:"c-2 c-3 c-4 c-8"},"L")),r.a.createElement("tr",null,r.a.createElement("th",{className:"low"},"Low"),r.a.createElement("td",{colSpan:"3",className:"c-1 c-4 c-7"}),r.a.createElement("td",{colSpan:"2",className:"c-2 c-3 c-4 c-7"},"H"),r.a.createElement("td",{className:"c-3 c-4 c-7"},"F")))),r.a.createElement("h2",null,"Rules for syllables with tone markers"),r.a.createElement("table",{className:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"\u0e2d\u0e48"),r.a.createElement("th",null,"\u0e2d\u0e49"),r.a.createElement("th",null,"\u0e2d\u0e4a"),r.a.createElement("th",null,"\u0e2d\u0e4b")),r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Mai ek"),r.a.createElement("th",null,"Mai tho"),r.a.createElement("th",null,"Mai tri"),r.a.createElement("th",null,"Mai chattawa"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"high"},"High"),r.a.createElement("td",{className:"c-5 c-6 c-9"},"L"),r.a.createElement("td",{className:"c-5 c-6 c-9"},"F"),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab"))),r.a.createElement("tr",null,r.a.createElement("th",{className:"mid"},"Mid"),r.a.createElement("td",{className:"c-5 c-6 c-8"},"L"),r.a.createElement("td",{className:"c-5 c-6 c-8"},"F"),r.a.createElement("td",{className:"c-6 c-8"},"H"),r.a.createElement("td",{className:"c-6 c-8"},"R")),r.a.createElement("tr",null,r.a.createElement("th",{className:"low"},"Low"),r.a.createElement("td",{className:"c-5 c-6 c-7"},"F"),r.a.createElement("td",{className:"c-5 c-6 c-7"},"H"),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"N/A"},"\ud83d\udeab"))))),r.a.createElement(Ra,{onHover:this.changeFocus}))}}]),n}(a.PureComponent),Ka=L(3),Fa=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];var o=(e=t.call.apply(t,[this].concat(r))).props.stage;o=Math.max(1,o);var s=e.reseed(null,o),i=s.queue,l=s.label;return e.state={busy:!1,correctItem:null,hiddenItems:[],index:0,label:l,mistakeMake:!1,queue:i,stage:o},e.onKey=e.onKey.bind(Object(Gt.a)(e)),e}return Object(p.a)(n,[{key:"reseed",value:function(e,t){var n,a=dt(t,this.props.tonesmap),r=a.tones,c=a.label;do{n=Ka(r).map((function(e){return{item:e,word:e.examples[Math.floor(Math.random()*e.examples.length)],tone:pt(e)}}))}while(e&&n.tone===e[e.length-1].tone);return{queue:n,label:c}}},{key:"componentDidMount",value:function(){this.props.initializeTones(),document.addEventListener("keydown",this.onKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKey)}},{key:"checkAnswer",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o,s,l,u,p,d,m,h,f,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.busy){e.next=2;break}return e.abrupt("return");case 2:return n=this.state,a=n.queue,r=n.correctItem,c=n.hiddenItems,o=n.index,s=n.label,l=n.mistakeMake,u=n.stage,p=300,d=a[o],m=d.tone,h=d.word,t===m?(this.setState({busy:!0,correctItem:t}),Je(Me,{thai:h}),o+=1,c=[],r=null,p=1e3,l?(o=0,f=this.reseed(a,u),a=f.queue,s=f.label,l=!1):o>=a.length&&(o=0,u+=1,v=this.reseed(a,u),a=v.queue,s=v.label)):(c=[].concat(Object(g.a)(c),[t]),l=!0,this.setState({busy:!0,hiddenItems:c})),e.next=8,N(p);case 8:this.setState({busy:!1,correctItem:r,hiddenItems:c,index:o,label:s,mistakeMake:l,queue:a,stage:u});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onKey",value:function(e){var t=e.code;"ArrowRight"===t?this.checkAnswer(6):"ArrowUp"===t?this.checkAnswer(7):"ArrowDown"===t?this.checkAnswer(8):"ArrowLeft"===t?this.checkAnswer(4):"Enter"!==t&&"Return"!==t&&"Space"!==t||this.checkAnswer(5)}},{key:"render",value:function(){var e=this,t=this.state,n=t.queue,a=t.index,c=t.hiddenItems,o=t.correctItem,s=t.label,i=t.mistakeMake,l=n[a].word,u=function(t,n,a){var s,i=j((s={},Object(yt.a)(s,"answer-".concat(t),!0),Object(yt.a)(s,"incorrect",c.some((function(e){return e===n}))),Object(yt.a)(s,"correct",o===n),s));return r.a.createElement("h3",{className:i,onClick:function(){return e.checkAnswer(n)}},a)};return r.a.createElement("div",{className:"drill"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,l),u(0,4,"L"),u(1,6,"H"),u(2,7,"R"),u(3,8,"F"),u(4,5,"Neutral")),r.a.createElement(Ta,{max:n.length,value:i?0:a,label:s}))}}]),n}(a.PureComponent),za=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeTones()}},{key:"render",value:function(){var e=this.props,t=e.match.params.stage,n=e.tonesmap;return r.a.createElement("div",{className:"tone-rules"},void 0===t?r.a.createElement(qa,this.props):null,t&&n.length?r.a.createElement(Fa,Object.assign({},this.props,{stage:parseInt(t,10)})):null)}}]),n}(a.Component),Ua=(n(206),Object(v.b)((function(e){var t=e.tones.tonesmap;return{hintVisible:e.view.hintVisible,tonesmap:t}}),It)(za)),Ba=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.trackRouteChange,a=t.location.pathname;a!==e.location.pathname&&n(a)}},{key:"render",value:function(){return null}}]),n}(a.Component),_a=Object(v.b)(null,It)(Ba),Ha=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not found"),r.a.createElement(h.b,{to:"/"},"Go to top page"))},Ga=(n(207),n(208),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.initializeWordsManager,a=t.initializeVoiceManager,r=t.initializeSettings,c=t.setApplicationReady,e.next=3,Promise.all([a(),n(),r()]).then((function(){return c()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.applicationReady?r.a.createElement(h.a,null,r.a.createElement(Dt,null,r.a.createElement(Ft,null),r.a.createElement(f.a,{path:"*",component:_a}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:zt}),r.a.createElement(f.a,{path:"/basics",exact:!0,component:Ut}),r.a.createElement(f.a,{path:"/basics/vowels",component:sa}),r.a.createElement(f.a,{path:"/basics/consonants",exact:!0,component:Bt}),r.a.createElement(f.a,{path:"/basics/consonants/confusion/drill-:visibleConfusion(\\d)",component:ka}),r.a.createElement(f.a,{path:"/basics/consonants/review",component:ha}),r.a.createElement(f.a,{path:"/basics/consonants/confusion",component:ka}),r.a.createElement(f.a,{path:"/basics/tones",exact:!0,component:_t}),r.a.createElement(f.a,{path:"/basics/tones/classes",exact:!0,component:Da}),r.a.createElement(f.a,{path:"/basics/tones/classes/drill/:type(all|mid-high)",component:Da}),r.a.createElement(f.a,{path:"/basics/tones/rules",exact:!0,component:Ua}),r.a.createElement(f.a,{path:"/basics/tones/rules/drill/:stage(\\d+)",component:Ua}),r.a.createElement(f.a,{path:"/progress",component:rn}),r.a.createElement(f.a,{path:"/practice/:type?",component:Mn}),r.a.createElement(f.a,{path:"/test",exact:!0,component:qn}),r.a.createElement(f.a,{path:"/test/:type(overdue|current)",component:na}),r.a.createElement(f.a,{path:"/settings",component:jn}),r.a.createElement(f.a,{component:Ha})))):r.a.createElement(Rt,null)}}]),n}(a.Component)),Ja=Object(v.b)((function(e){return{applicationReady:e.view.applicationReady}}),It)(Ga),Qa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xa(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(v.a,{store:Mt},r.a.createElement(Ja,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Qa?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xa(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Xa(e)}))}}()}},[[119,1,2]]]);
//# sourceMappingURL=main.ca68bd9f.chunk.js.map